"use strict";(self.webpackChunkfinance_management_app=self.webpackChunkfinance_management_app||[]).push([[350],{6400:(O,w,s)=>{s.d(w,{e:()=>a});var f=s(4327),e=s(5e3),t=s(5425),D=s(8157),x=s(72),l=s(9808),d=s(2382);function v(n,_){if(1&n&&(e.TgZ(0,"div",13),e._uU(1),e.qZA()),2&n){const r=e.oxw();e.xp6(1),e.hij(" ",r.message," ")}}function E(n,_){if(1&n&&(e.TgZ(0,"div",13),e._uU(1),e.qZA()),2&n){const r=e.oxw();e.xp6(1),e.hij(" ",r.serverErrorMessage," ")}}function m(n,_){if(1&n){const r=e.EpF();e.TgZ(0,"span")(1,"input",20),e.NdJ("ngModelChange",function(p){e.CHM(r);const h=e.oxw().index;return e.oxw().reasons[h].reason=p}),e.qZA(),e.TgZ(2,"span",21)(3,"button",22),e.NdJ("click",function(){e.CHM(r);const p=e.oxw(),h=p.$implicit,g=p.index,b=e.oxw();return b.verifyDocument(h.id,b.reasons[g].reason)}),e.TgZ(4,"span"),e._uU(5,"Verify Document"),e.qZA()()()()}if(2&n){const r=e.oxw().index,o=e.oxw();e.xp6(1),e.Q6J("ngModel",o.reasons[r].reason),e.xp6(2),e.Q6J("disabled",!o.reasons[r].selectedDocument)}}function y(n,_){1&n&&(e.TgZ(0,"span"),e._uU(1," Document is already verified! "),e.qZA())}function c(n,_){if(1&n){const r=e.EpF();e.TgZ(0,"li",14)(1,"input",15),e.NdJ("ngModelChange",function(p){const g=e.CHM(r).index;return e.oxw().reasons[g].selectedDocument=p}),e.qZA(),e._uU(2),e.TgZ(3,"span",16)(4,"button",17),e.NdJ("click",function(){const h=e.CHM(r).$implicit;return e.oxw().downloadDocumentByID(h.id)}),e.TgZ(5,"span"),e._UZ(6,"i",18),e.qZA()()(),e.YNc(7,m,6,2,"span",19),e.YNc(8,y,2,0,"span",19),e.qZA()}if(2&n){const r=_.$implicit,o=_.index,p=e.oxw();e.xp6(1),e.Q6J("ngModel",p.reasons[o].selectedDocument),e.xp6(1),e.hij(" ",r.docKey," "),e.xp6(5),e.Q6J("ngIf",!r.lawfirmVerified),e.xp6(1),e.Q6J("ngIf",r.lawfirmVerified)}}const C=function(n){return[n]},i=function(n,_){return[n,_]},u=function(n,_,r){return[n,_,r]};let a=(()=>{class n{constructor(r,o,p,h){this.route=r,this.router=o,this.document=p,this.SpinnerService=h,this.documentList=[],this.serverError=!1,this.serverErrorMessage="",this.downloadJsonHref="",this.selectedFile=null,this.message="",this.actionValue="",this.caseId=0,this.reasons=[],this.parentUrl=""}ngOnInit(){this.SpinnerService.show(),this.parentUrl=sessionStorage.getItem("parentUrl")||"",this.caseId=this.route.snapshot.params.caseId,this.actionValue=this.route.snapshot.params.actionValue,this.document.getCaseDocumentList(this.caseId).subscribe({next:r=>{this.SpinnerService.hide(),this.documentList=r.body.responseBody.data,this.documentList.forEach(o=>{this.reasons.push({selectedDocument:!1,reason:""})}),0===this.documentList.length&&(this.message="No Case Documents exist for this case!!!")},error:r=>{this.SpinnerService.hide(),this.serverError=!0,this.serverErrorMessage=r.error.responseBody.errors[0].desc}})}verifyDocument(r,o){this.SpinnerService.show(),this.serverError=!1,this.serverErrorMessage="",this.message="",this.document.verifyDocument(this.actionValue,!0,r,o).subscribe({next:h=>{this.message="Document is verified Successfully!!!",this.SpinnerService.hide()},error:h=>{this.SpinnerService.hide(),this.serverError=!0,this.serverErrorMessage=h.error.responseBody.errors[0].desc}})}downloadDocumentByID(r){this.SpinnerService.show(),this.document.getFileName(r).subscribe({next:o=>{let p=o.headers.get("Content-Type");const h=o.headers.get("Content-Disposition"),b=/filename=(["'])(.*?[^\\])\1(?:; |$)/;let P="";if(!/filename\*=UTF-8''([\w%\-\.]+)(?:; |$)/.test(h)){const T=b.exec(h);null!=T&&T[2]&&(P=T[2])}this.document.downloadDocumentById(r).subscribe({next:T=>{this.SpinnerService.hide(),T=new Blob([T],{type:p}),(0,f.saveAs)(T,P)},error:T=>{this.SpinnerService.hide(),this.serverError=!0,this.serverErrorMessage="Some Error Occured!Please try again!!!"}})},error:o=>{this.SpinnerService.hide(),this.serverError=!0,this.serverErrorMessage="Some Error Occured!Please try again!!!"}})}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(t.gz),e.Y36(t.F0),e.Y36(D.f),e.Y36(x.t2))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-verify-case-document"]],decls:24,vars:15,consts:[[1,"container"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],[2,"text-decoration","underline","color","blue","cursor","pointer",3,"routerLink"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row","d-flex","justify-content-center","align-items-center"],["bdColor","rgba(51, 51, 51, 0.8)","size","medium","type","ball-circus"],[2,"color","white"],[1,"list-group","list-group-light","widh_50"],[1,"text-center","p-4"],["class","text-danger",4,"ngIf"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"text-danger"],[1,"list-group-item"],["type","checkbox","aria-label","...",1,"form-check-input","me-1",3,"ngModel","ngModelChange"],[1,"d-flex","justify-content-end"],["type","button",1,"btn","btn-primary","btn-sm","mt-2","w-25","text-center",3,"click"],["aria-hidden","true","title","Download",1,"fa","fa-download"],[4,"ngIf"],["type","text","aria-label","...","placeholder","Please provide reason",1,"form-control",3,"ngModel","ngModelChange"],[1,"float-end","action_btn","text-end"],["type","button",1,"btn","btn-primary","btn-sm",3,"disabled","click"]],template:function(r,o){1&r&&(e.TgZ(0,"div",0)(1,"nav",1)(2,"ol",2)(3,"li",3)(4,"a",4),e._uU(5,"Dashboard"),e.qZA()(),e.TgZ(6,"li",3)(7,"a",4),e._uU(8,"Case Details"),e.qZA()(),e.TgZ(9,"li",3)(10,"a",4),e._uU(11,"View Case"),e.qZA()(),e.TgZ(12,"li",5),e._uU(13,"Verify Document"),e.qZA()()(),e.TgZ(14,"div",6)(15,"ngx-spinner",7)(16,"p",8),e._uU(17,"Loading "),e.qZA()(),e.TgZ(18,"ul",9)(19,"h5",10),e._uU(20,"Verify Document List"),e.qZA(),e.YNc(21,v,2,1,"div",11),e.YNc(22,E,2,1,"div",11),e.YNc(23,c,9,4,"li",12),e.qZA()()()),2&r&&(e.xp6(4),e.Q6J("routerLink",e.VKq(6,C,o.parentUrl+"/dashboard")),e.xp6(3),e.Q6J("routerLink",e.WLB(8,i,o.parentUrl+"/caseDetails",o.actionValue)),e.xp6(3),e.Q6J("routerLink",e.kEZ(11,u,o.parentUrl+"/viewCaseDetails",o.actionValue,o.caseId)),e.xp6(11),e.Q6J("ngIf",o.message),e.xp6(1),e.Q6J("ngIf",o.serverError),e.xp6(1),e.Q6J("ngForOf",o.documentList))},directives:[t.yS,x.Ro,l.O5,l.sg,d.Wl,d.JJ,d.On,d.Fj],styles:[""]}),n})()},3087:(O,w,s)=>{s.d(w,{R:()=>C});var f=s(4327),e=s(8562),t=s(5e3),D=s(5425),x=s(8157),l=s(72),d=s(9808);function v(i,u){if(1&i&&(t.TgZ(0,"div",13),t._uU(1),t.qZA()),2&i){const a=t.oxw();t.xp6(1),t.hij(" ",a.message," ")}}function E(i,u){if(1&i){const a=t.EpF();t.TgZ(0,"li",14),t._UZ(1,"input",15),t._uU(2),t.TgZ(3,"span",16)(4,"button",17)(5,"span"),t._UZ(6,"i",18),t.qZA()(),t.TgZ(7,"button",17)(8,"span"),t._UZ(9,"i",19),t.qZA()(),t.TgZ(10,"button",20),t.NdJ("click",function(){const r=t.CHM(a).$implicit;return t.oxw().downloadDocumentByID(r.id)}),t.TgZ(11,"span"),t._UZ(12,"i",21),t.qZA()()()()}if(2&i){const a=u.$implicit;t.xp6(2),t.hij(" ",a.docKey," ")}}const m=function(i){return[i]},y=function(i,u){return[i,u]},c=function(i,u,a){return[i,u,a]};let C=(()=>{class i{constructor(a,n,_,r){this.route=a,this.router=n,this.document=_,this.SpinnerService=r,this.documentList=[],this.serverError=!1,this.serverErrorMessage="",this.selectedFile=null,this.message="",this.type="",this.name="Angular",this.handTool=!0,this.page=1,this.rotation=0,this.scrollMode=e.jK.vertical,this.sidebarVisible=!0,this.spread="off",this.src=null,this.zoom="auto",this.showFile=!1,this.parentUrl="",this.actionValue="",this.caseId=0,this.progress={percentage:0}}ngOnInit(){this.parentUrl=sessionStorage.getItem("parentUrl")||"",this.actionValue=sessionStorage.getItem("actionValue")||"",this.SpinnerService.show(),this.caseId=this.route.snapshot.params.caseId,this.document.getCaseDocumentList(this.caseId).subscribe({next:a=>{this.SpinnerService.hide(),this.documentList=a.body.responseBody.data,0===this.documentList.length&&(this.message="No Case Documents exist for this case!!!")},error:a=>{this.SpinnerService.hide(),this.serverError=!0,this.serverErrorMessage="Some Error Occured!Please try again!!!"}})}downloadDocumentByID(a){this.SpinnerService.show(),this.document.getFileName(a).subscribe({next:n=>{let _=n.headers.get("Content-Type");const r=n.headers.get("Content-Disposition"),p=/filename=(["'])(.*?[^\\])\1(?:; |$)/;let h="";if(!/filename\*=UTF-8''([\w%\-\.]+)(?:; |$)/.test(r)){const g=p.exec(r);null!=g&&g[2]&&(h=g[2])}this.document.downloadDocumentById(a).subscribe({next:g=>{this.SpinnerService.hide(),this.src=g=new Blob([g],{type:_}),(0,f.saveAs)(g,h)},error:g=>{this.SpinnerService.hide(),this.serverError=!0,this.serverErrorMessage="Some Error Occured!Please try again!!!"}})},error:n=>{this.SpinnerService.hide(),this.serverError=!0,this.serverErrorMessage="Some Error Occured!Please try again!!!"}})}viewFile(){this.showFile=!0}}return i.\u0275fac=function(a){return new(a||i)(t.Y36(D.gz),t.Y36(D.F0),t.Y36(x.f),t.Y36(l.t2))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-view-case-document"]],decls:23,vars:14,consts:[[1,"container"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],[2,"text-decoration","underline","color","blue","cursor","pointer",3,"routerLink"],["aria-current","page",1,"breadcrumb-item","active"],["bdColor","rgba(51, 51, 51, 0.8)","size","medium","type","ball-circus"],[2,"color","white"],[1,"row","d-flex","justify-content-center","align-items-center"],[1,"list-group","list-group-light","widh_50"],[1,"text-center","p-4"],["class","text-danger",4,"ngIf"],["class","list-group-item li_height",4,"ngFor","ngForOf"],[1,"text-danger"],[1,"list-group-item","li_height"],["type","checkbox","value","","aria-label","...",1,"form-check-input","me-1"],[1,"float-end","action_btn","text-end"],["type","button",1,"btn","btn-primary","btn-sm"],["aria-hidden","true","title","Download",1,"fa","fa-plus"],["aria-hidden","true","title","Download",1,"fa","fa-upload"],["type","button",1,"btn","btn-primary","btn-sm",3,"click"],["aria-hidden","true","title","Download",1,"fa","fa-download"]],template:function(a,n){1&a&&(t.TgZ(0,"div",0)(1,"nav",1)(2,"ol",2)(3,"li",3)(4,"a",4),t._uU(5,"Dashboard"),t.qZA()(),t.TgZ(6,"li",3)(7,"a",4),t._uU(8,"Case Details"),t.qZA()(),t.TgZ(9,"li",3)(10,"a",4),t._uU(11,"View Case"),t.qZA()(),t.TgZ(12,"li",5),t._uU(13,"View Document List"),t.qZA()()(),t.TgZ(14,"ngx-spinner",6)(15,"p",7),t._uU(16,"Loading "),t.qZA()(),t.TgZ(17,"div",8)(18,"ul",9)(19,"h5",10),t._uU(20,"View Document List"),t.qZA(),t.YNc(21,v,2,1,"div",11),t.YNc(22,E,13,1,"li",12),t.qZA()()()),2&a&&(t.xp6(4),t.Q6J("routerLink",t.VKq(5,m,n.parentUrl+"/dashboard")),t.xp6(3),t.Q6J("routerLink",t.WLB(7,y,n.parentUrl+"/caseDetails",n.actionValue)),t.xp6(3),t.Q6J("routerLink",t.kEZ(10,c,n.parentUrl+"/viewCaseDetails",n.actionValue,n.caseId)),t.xp6(11),t.Q6J("ngIf",n.message),t.xp6(1),t.Q6J("ngForOf",n.documentList))},directives:[D.yS,l.Ro,d.O5,d.sg],styles:[""]}),i})()},4406:(O,w,s)=>{s.d(w,{W:()=>t});var f=s(520),M=s(1581),e=s(5e3);let t=(()=>{class D{constructor(l){this.http=l}getDocumentList(){let l=sessionStorage.getItem("user"),d=JSON.parse(l||"{}");const v=M.g.API_ENDPOINT+"solicitor/"+d.id+"/documents";let E=(new f.LE).set("pgNo",0).set("pgSize",1);return this.http.request("get",v,{params:E,observe:"response",responseType:"json",withCredentials:!1})}downloadDocumentById(l){const d=M.g.API_ENDPOINT+"solicitor/document";let v=(new f.LE).set("docId",l);const E=new f.WM({Accept:"application/octet-stream"});return this.http.request("post",d,{headers:E,params:v,observe:"response",responseType:"blob",withCredentials:!1})}uploadDocument(l,d,v){const E=M.g.API_ENDPOINT+"solicitor/document/upload",m=new FormData;m.append("DocKey",d),m.append("DocType",l),m.append("file",v),new f.WM({Accept:"application/json"});const c=new f.aW("POST",E,m,{reportProgress:!0,responseType:"json"});return this.http.request(c)}getDocumentType(l){const d=M.g.API_ENDPOINT+"constant/documentType";let v=(new f.LE).set("docType",l);return this.http.request("get",d,{params:v,observe:"response",responseType:"json",withCredentials:!1})}}return D.\u0275fac=function(l){return new(l||D)(e.LFG(f.eN))},D.\u0275prov=e.Yz7({token:D,factory:D.\u0275fac}),D})()},8010:(O,w,s)=>{s.d(w,{w:()=>E});var f=s(4327),e=s(5e3),t=s(2313),D=s(5425),x=s(4406),l=s(72),d=s(9808);function v(m,y){if(1&m){const c=e.EpF();e.TgZ(0,"li",5),e._UZ(1,"input",6),e._uU(2),e.TgZ(3,"span",7)(4,"button",8),e.NdJ("click",function(){const u=e.CHM(c).$implicit;return e.oxw().downloadDocumentByID(u.id)}),e.TgZ(5,"span"),e._UZ(6,"i",9),e.qZA()(),e.TgZ(7,"button",10)(8,"span"),e._UZ(9,"i",11),e.qZA()()()()}if(2&m){const c=y.$implicit;e.xp6(2),e.hij(" ",c.docKey," ")}}let E=(()=>{class m{constructor(c,C,i,u){this.sanitizer=c,this.router=C,this.clientDocument=i,this.SpinnerService=u,this.documentList=[],this.serverError=!1,this.serverErrorMessage="",this.downloadJsonHref="",this.selectedFile=null,this.progress={percentage:0}}ngOnInit(){this.clientDocument.getDocumentList().subscribe({next:c=>{this.SpinnerService.show(),this.documentList=c.body.responseBody.data,console.log(this.documentList)},error:c=>{this.serverError=!0,this.serverErrorMessage="Some Error Occured!Please try again!!!"}})}downloadDocumentByID(c){this.clientDocument.downloadDocumentById(c).subscribe({next:C=>{console.log("json response");let i=JSON.stringify(C),u=new Blob([i],{type:"application/octet-stream"});(0,f.saveAs)(u,"download.txt"),window.URL.createObjectURL(u)},error:C=>{this.serverError=!0,this.serverErrorMessage="Some Error Occured!Please try again!!!"}})}}return m.\u0275fac=function(c){return new(c||m)(e.Y36(t.H7),e.Y36(D.F0),e.Y36(x.W),e.Y36(l.t2))},m.\u0275cmp=e.Xpm({type:m,selectors:[["app-view-document"]],decls:6,vars:1,consts:[[1,"container"],[1,"row","d-flex","justify-content-center","align-items-center"],[1,"list-group","list-group-light","widh_50"],[1,"text-center","p-4"],["class","list-group-item li_height ",4,"ngFor","ngForOf"],[1,"list-group-item","li_height"],["type","checkbox","value","","aria-label","...",1,"form-check-input","me-1"],[1,"float-end","action_btn","text-end"],["type","button",1,"btn","btn-primary","btn-sm",3,"click"],["aria-hidden","true","title","Download",1,"fa","fa-download"],["type","button",1,"btn","btn-primary","btn-sm"],["aria-hidden","true","title","View",1,"fa","fa-eye"]],template:function(c,C){1&c&&(e.TgZ(0,"div",0)(1,"div",1)(2,"ul",2)(3,"h5",3),e._uU(4,"View Document List "),e.qZA(),e.YNc(5,v,10,1,"li",4),e.qZA()()()),2&c&&(e.xp6(5),e.Q6J("ngForOf",C.documentList))},directives:[d.sg],styles:[""]}),m})()}}]);