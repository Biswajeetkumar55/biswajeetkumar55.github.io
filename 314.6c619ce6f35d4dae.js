"use strict";(self.webpackChunkfinance_management_app=self.webpackChunkfinance_management_app||[]).push([[314],{2314:(et,L,s)=>{s.r(L),s.d(L,{LawfirmLawyerModule:()=>We});var Z=s(9808),g=s(5425),J=s(8560),N=s(7712),w=s(1722),E=s(6681),k=s(4692),D=s(7014),Q=s(8010),Y=s(2374),M=s(3087),O=s(6400),e=s(5e3),B=s(9155),P=s(1054);let R=(()=>{class r{constructor(){}ngOnInit(){sessionStorage.setItem("parentUrl","/lawfirm-lawyer")}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-lawyer-dashboard"]],decls:14,vars:0,consts:[[1,"container-fluid","container_fluid"],[1,"row","flex-nowrap"],[1,"col-auto","px-0"],[1,"col","ps-md-2","pt-2"],[1,"row"],["href","#","data-bs-target","#sidebar","data-bs-toggle","collapse",1,"p-1",2,"font-size","24px"],[1,"bi","bi-list","bi-lg","py-2","p-1"],["aria-hidden","true",1,"fa","fa-bars"],[1,"col-12"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-top-menu"),e.TgZ(2,"div",1)(3,"div",2),e._UZ(4,"app-side-navigation"),e.qZA(),e.TgZ(5,"main",3)(6,"div",4)(7,"a",5),e._UZ(8,"i",6),e.TgZ(9,"span"),e._UZ(10,"i",7),e.qZA()(),e.TgZ(11,"div",8)(12,"div"),e._UZ(13,"router-outlet"),e.qZA()()()()()())},directives:[B.z,P.e,g.lC],styles:[""]}),r})();var a=s(2382),j=s(242),C=s(520),I=s(8259),F=s(8157),S=s(7126),_=s(72),V=s(8671),G=s(979),x=s(8512);const $=["tabset"];function z(r,o){if(1&r&&(e.TgZ(0,"div",57),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.hij(" ",t.serverErrorMessage," ")}}function K(r,o){1&r&&(e.TgZ(0,"div"),e._uU(1,"Please Choose no. of Client"),e.qZA())}function H(r,o){if(1&r&&(e.TgZ(0,"div",57),e.YNc(1,K,2,0,"div",58),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.numberOfClients.errors.required)}}function X(r,o){if(1&r&&(e.TgZ(0,"option",59),e._uU(1),e.qZA()),2&r){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.AsE(" ",t.firstName," ",t.lastName," ")}}function W(r,o){1&r&&(e.TgZ(0,"div"),e._uU(1,"This field is required"),e.qZA())}function ee(r,o){if(1&r&&(e.TgZ(0,"div",57),e.YNc(1,W,2,0,"div",58),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.selectedBroker.errors.required)}}function te(r,o){1&r&&(e.TgZ(0,"div",57),e._uU(1," Email is required "),e.qZA())}function re(r,o){1&r&&(e.TgZ(0,"div",57),e._uU(1,"Email is not valid"),e.qZA())}function ne(r,o){1&r&&(e.TgZ(0,"div",57),e._uU(1," First Name is required "),e.qZA())}function ie(r,o){1&r&&(e.TgZ(0,"div",57),e._uU(1," Last Name is required "),e.qZA())}function oe(r,o){if(1&r&&(e.TgZ(0,"option",59),e._uU(1),e.qZA()),2&r){const t=o.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function ae(r,o){1&r&&(e.TgZ(0,"div",57),e._uU(1," Gender is required "),e.qZA())}function se(r,o){if(1&r&&(e.TgZ(0,"option",59),e._uU(1),e.qZA()),2&r){const t=o.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function le(r,o){1&r&&(e.TgZ(0,"div",57),e._uU(1," Country is required "),e.qZA())}function de(r,o){1&r&&(e.TgZ(0,"div",57),e._uU(1," Address is required "),e.qZA())}function ce(r,o){1&r&&(e.TgZ(0,"div",57),e._uU(1," Address is required "),e.qZA())}function pe(r,o){1&r&&(e.TgZ(0,"div",57),e._uU(1," Zipcode is required "),e.qZA())}function ue(r,o){1&r&&(e.TgZ(0,"div",57),e._uU(1," Zipcode must be in numeric "),e.qZA())}function me(r,o){if(1&r&&(e.TgZ(0,"option",59),e._uU(1),e.qZA()),2&r){const t=o.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function fe(r,o){1&r&&(e.TgZ(0,"div",57),e._uU(1," Country is required "),e.qZA())}function ge(r,o){if(1&r&&(e.TgZ(0,"option",59),e._uU(1),e.qZA()),2&r){const t=o.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function ve(r,o){1&r&&(e.TgZ(0,"div",57),e._uU(1," Address Type is required "),e.qZA())}function Ze(r,o){1&r&&(e.TgZ(0,"div",57),e._uU(1," Mobile is required "),e.qZA())}function _e(r,o){1&r&&(e.TgZ(0,"div",57),e._uU(1," Mobile Number must be at least 10 digits "),e.qZA())}function Ce(r,o){1&r&&(e.TgZ(0,"div",57),e._uU(1," Mobile Number must be numeric "),e.qZA())}function he(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"div",90)(1,"input",91),e.NdJ("change",function(i){return e.CHM(t),e.oxw(2).copyAddress(i)}),e.qZA(),e.TgZ(2,"label",92),e._uU(3,"Copy Address Details"),e.qZA()()}}function Te(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"div",60)(1,"h5",61),e._uU(2),e.qZA(),e.TgZ(3,"div",62)(4,"div",20)(5,"div",21)(6,"label",22)(7,"span",23),e._uU(8,"Email "),e.qZA(),e.TgZ(9,"span"),e._UZ(10,"i",63),e.qZA()(),e.TgZ(11,"input",64),e.NdJ("change",function(i){const c=e.CHM(t).index;return e.oxw().getClientDetails(i,c)}),e.qZA(),e.YNc(12,te,2,0,"div",2),e.YNc(13,re,2,0,"div",2),e.qZA()(),e.TgZ(14,"div",20)(15,"div",21)(16,"label",22)(17,"span",23),e._uU(18,"First Name "),e.qZA(),e.TgZ(19,"span"),e._UZ(20,"i",65),e.qZA()(),e._UZ(21,"input",66),e.YNc(22,ne,2,0,"div",2),e.qZA(),e.TgZ(23,"div",21)(24,"label",22)(25,"span",23),e._uU(26,"Middle Name "),e.qZA(),e.TgZ(27,"span",29),e._UZ(28,"i",67),e.qZA()(),e._UZ(29,"input",68),e.qZA(),e.TgZ(30,"div",21)(31,"label",22)(32,"span",23),e._uU(33,"Last Name "),e.qZA(),e.TgZ(34,"span"),e._UZ(35,"i",69),e.qZA()(),e._UZ(36,"input",70),e.YNc(37,ie,2,0,"div",2),e.qZA()(),e.TgZ(38,"div",20)(39,"div",21)(40,"label",22)(41,"span",23),e._uU(42,"DOB "),e.qZA(),e.TgZ(43,"span",29),e._UZ(44,"i",71),e.qZA()(),e._UZ(45,"input",72),e.qZA(),e.TgZ(46,"div",21)(47,"label",22)(48,"span",23),e._uU(49,"Gender "),e.qZA(),e.TgZ(50,"span"),e._UZ(51,"i",73),e.qZA()(),e.TgZ(52,"select",74),e.YNc(53,oe,2,2,"option",17),e.qZA(),e.YNc(54,ae,2,0,"div",2),e.qZA(),e.TgZ(55,"div",21)(56,"label",22)(57,"span",23),e._uU(58,"Country Code "),e.qZA(),e.TgZ(59,"span"),e._UZ(60,"i",75),e.qZA()(),e.TgZ(61,"select",76),e.YNc(62,se,2,2,"option",17),e.qZA(),e.YNc(63,le,2,0,"div",2),e.qZA()(),e.TgZ(64,"div",20)(65,"div",21)(66,"label",22)(67,"span",23),e._uU(68,"Address Line 1 "),e.qZA(),e.TgZ(69,"span"),e._UZ(70,"i",71),e.qZA()(),e._UZ(71,"input",77),e.YNc(72,de,2,0,"div",2),e.qZA(),e.TgZ(73,"div",21)(74,"label",22)(75,"span",23),e._uU(76,"Address Line 2 "),e.qZA(),e.TgZ(77,"span"),e._UZ(78,"i",71),e.qZA()(),e._UZ(79,"input",78),e.YNc(80,ce,2,0,"div",2),e.qZA(),e.TgZ(81,"div",21)(82,"label",22)(83,"span",23),e._uU(84,"Zip Code"),e.qZA(),e.TgZ(85,"span"),e._UZ(86,"i",32),e.qZA()(),e._UZ(87,"input",79),e.YNc(88,pe,2,0,"div",2),e.YNc(89,ue,2,0,"div",2),e.qZA()(),e.TgZ(90,"div",20)(91,"div",21)(92,"label",80),e._uU(93,"Landmark "),e.TgZ(94,"span",29),e._UZ(95,"i",71),e.qZA()(),e._UZ(96,"input",81),e.qZA(),e.TgZ(97,"div",21)(98,"label",82),e._uU(99,"State "),e.TgZ(100,"span",29),e._UZ(101,"i",71),e.qZA()(),e._UZ(102,"input",83),e.qZA(),e.TgZ(103,"div",21)(104,"label",22)(105,"span",23),e._uU(106,"Country "),e.qZA(),e.TgZ(107,"span"),e._UZ(108,"i",84),e.qZA()(),e.TgZ(109,"select",85),e.YNc(110,me,2,2,"option",17),e.qZA(),e.YNc(111,fe,2,0,"div",2),e.qZA()(),e.TgZ(112,"div",20)(113,"div",21)(114,"label",22)(115,"span",23),e._uU(116,"Address Type "),e.qZA(),e.TgZ(117,"span"),e._UZ(118,"i",86),e.qZA()(),e.TgZ(119,"select",87),e.YNc(120,ge,2,2,"option",17),e.qZA(),e.YNc(121,ve,2,0,"div",2),e.qZA(),e.TgZ(122,"div",21)(123,"label",22)(124,"span",23),e._uU(125,"Mobile No"),e.qZA(),e.TgZ(126,"span"),e._UZ(127,"i",30),e.qZA()(),e._UZ(128,"input",88),e.YNc(129,Ze,2,0,"div",2),e.YNc(130,_e,2,0,"div",2),e.YNc(131,Ce,2,0,"div",2),e.qZA()(),e.YNc(132,he,4,0,"div",89),e.qZA()()}if(2&r){const t=o.$implicit,n=o.index,i=e.oxw();let l,c,u,m,p,v,f,d,h,T,y,A,b,q,U;e.xp6(2),e.hij("Client Details ",n+1,""),e.xp6(1),e.Q6J("formGroup",t),e.xp6(9),e.Q6J("ngIf",((null==(l=t.get("email"))?null:l.touched)||i.submitted)&&(null==t||null==(l=t.get("email"))?null:l.hasError("required"))),e.xp6(1),e.Q6J("ngIf",((null==(c=t.get("email"))?null:c.touched)||i.submitted)&&(null==t||null==(c=t.get("email"))?null:c.hasError("email"))),e.xp6(9),e.Q6J("ngIf",((null==(u=t.get("firstName"))?null:u.touched)||i.submitted)&&(null==t||null==(u=t.get("firstName"))?null:u.hasError("required"))),e.xp6(15),e.Q6J("ngIf",((null==(m=t.get("lastName"))?null:m.touched)||i.submitted)&&(null==t||null==(m=t.get("lastName"))?null:m.hasError("required"))),e.xp6(16),e.Q6J("ngForOf",i.genderList),e.xp6(1),e.Q6J("ngIf",((null==(p=t.get("gender"))?null:p.touched)||i.submitted)&&(null==t||null==(p=t.get("gender"))?null:p.hasError("required"))),e.xp6(8),e.Q6J("ngForOf",i.countryCodeList),e.xp6(1),e.Q6J("ngIf",((null==(v=t.get("countryCode"))?null:v.touched)||i.submitted)&&(null==t||null==(v=t.get("countryCode"))?null:v.hasError("required"))),e.xp6(9),e.Q6J("ngIf",((null==(f=t.get("currentAddressLine1"))?null:f.touched)||i.submitted)&&(null==t||null==(f=t.get("currentAddressLine1"))?null:f.hasError("required"))),e.xp6(8),e.Q6J("ngIf",((null==(d=t.get("currentAddressLine2"))?null:d.touched)||i.submitted)&&(null==t||null==(d=t.get("currentAddressLine2"))?null:d.hasError("required"))),e.xp6(8),e.Q6J("ngIf",((null==(h=t.get("currentZipCode"))?null:h.touched)||i.submitted)&&(null==t||null==(h=t.get("currentZipCode"))?null:h.hasError("required"))),e.xp6(1),e.Q6J("ngIf",((null==(T=t.get("currentZipCode"))?null:T.touched)||i.submitted)&&(null==t||null==(T=t.get("currentZipCode"))?null:T.hasError("pattern"))),e.xp6(21),e.Q6J("ngForOf",i.countryCodeList),e.xp6(1),e.Q6J("ngIf",((null==(y=t.get("currentCountry"))?null:y.touched)||i.submitted)&&(null==t||null==(y=t.get("currentCountry"))?null:y.hasError("required"))),e.xp6(9),e.Q6J("ngForOf",i.addressTypeList),e.xp6(1),e.Q6J("ngIf",((null==(A=t.get("addressType"))?null:A.touched)||i.submitted)&&(null==t||null==(A=t.get("addressType"))?null:A.hasError("required"))),e.xp6(8),e.Q6J("ngIf",((null==(b=t.get("mobile"))?null:b.touched)||i.submitted)&&(null==t||null==(b=t.get("mobile"))?null:b.hasError("required"))),e.xp6(1),e.Q6J("ngIf",((null==(q=t.get("mobile"))?null:q.touched)||i.submitted)&&(null==t||null==(q=t.get("mobile"))?null:q.hasError("minlength"))),e.xp6(1),e.Q6J("ngIf",((null==(U=t.get("mobile"))?null:U.touched)||i.submitted)&&(null==t||null==(U=t.get("mobile"))?null:U.hasError("pattern"))),e.xp6(1),e.Q6J("ngIf",i.f.numberOfClients.value>=2&&0==n)}}function ye(r,o){if(1&r&&(e.TgZ(0,"option",59),e._uU(1),e.qZA()),2&r){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function Ae(r,o){1&r&&(e.TgZ(0,"div"),e._uU(1,"Lender Details are required"),e.qZA())}function be(r,o){if(1&r&&(e.TgZ(0,"div",57),e.YNc(1,Ae,2,0,"div",58),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.lender.errors.required)}}function qe(r,o){1&r&&(e.TgZ(0,"div"),e._uU(1,"Address is required"),e.qZA())}function Ue(r,o){if(1&r&&(e.TgZ(0,"div",57),e.YNc(1,qe,2,0,"div",58),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.propertyAddressLine1.errors.required)}}function xe(r,o){1&r&&(e.TgZ(0,"div"),e._uU(1,"Zipcode is required"),e.qZA())}function Le(r,o){if(1&r&&(e.TgZ(0,"div",57),e.YNc(1,xe,2,0,"div",58),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.propertyZipCode.errors.required)}}function Ne(r,o){if(1&r&&(e.TgZ(0,"option",59),e._uU(1),e.qZA()),2&r){const t=o.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function Ie(r,o){if(1&r&&(e.TgZ(0,"option",59),e._uU(1),e.qZA()),2&r){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.organisationName," ")}}function Fe(r,o){1&r&&(e.TgZ(0,"div"),e._uU(1,"Lawfirm is required"),e.qZA())}function Se(r,o){if(1&r&&(e.TgZ(0,"div",57),e.YNc(1,Fe,2,0,"div",58),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.lawfirm.errors.required)}}function Je(r,o){1&r&&(e.TgZ(0,"div"),e._uU(1,"Amount is required"),e.qZA())}function we(r,o){1&r&&(e.TgZ(0,"div"),e._uU(1,"Amount must be in numeric"),e.qZA())}function Ee(r,o){if(1&r&&(e.TgZ(0,"div",57),e.YNc(1,Je,2,0,"div",58),e.YNc(2,we,2,0,"div",58),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.amount.errors.required),e.xp6(1),e.Q6J("ngIf",t.f.amount.errors.pattern)}}function ke(r,o){if(1&r&&(e.TgZ(0,"option",59),e._uU(1),e.qZA()),2&r){const t=o.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function De(r,o){1&r&&(e.TgZ(0,"div"),e._uU(1,"Address Type is required"),e.qZA())}function Qe(r,o){if(1&r&&(e.TgZ(0,"div",57),e.YNc(1,De,2,0,"div",58),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.propertyAddressType.errors.required)}}const Ye=function(r){return{disabled:r}};let Me=(()=>{class r{constructor(t,n,i,l,c,u,m){this.dashboardService=t,this.createCaseService=n,this.formBuilder=i,this.router=l,this.SpinnerService=c,this.commonService=u,this.countryService=m,this.submitted=!1,this.currentfieldTextType=!1,this.newfieldTextType=!1,this.confirmfieldTextType=!1,this.message="",this.serverError=!1,this.serverErrorMessage="",this.genderList=["MALE","FEMALE"],this.countryCodeList=[],this.addressTypeList=[],this.lawfirmList=[],this.lenderList=[],this.brokerList=[],this.caseRef="",this.caseId=0,this.parentUrl="",this.progress={percentage:0},this.selectedFile=null,this.createCaseForm=this.formBuilder.group({numberOfClients:["",a.kI.required],lender:["",a.kI.required],selectedBroker:["",a.kI.required],propertyAddressLine1:["",a.kI.required],propertyAddressLine2:[""],propertyZipCode:["",a.kI.required],propertyLandMark:[""],propertyCountryCode:[""],propertyState:[""],propertyAddressType:["PERSONAL_ADDRESS",a.kI.required],lawfirm:["",a.kI.required],amount:["",a.kI.compose([a.kI.required,a.kI.pattern("^[0-9]*$")])],clientDetailsForm:new a.Oe([],(0,j.C)())}),this.lawyerId=0,this.activeTab="createCase",this.index=0}get f(){return this.createCaseForm.controls}get t(){return this.f.clientDetailsForm}get clientFormGroups(){return this.t.controls}ngOnInit(){let n=JSON.parse(sessionStorage.getItem("user")||"{}").id;this.lawyerId=parseInt(n),this.commonService.getAdressType().subscribe({next:i=>{this.addressTypeList=i.body.responseBody.data,this.createCaseForm.controls.propertyAddressType.setValue(this.addressTypeList[0],{onlySelf:!0})},error:i=>{}}),this.commonService.getLenderList().subscribe({next:i=>{this.lenderList=i.body.responseBody.data},error:i=>{}}),this.commonService.getLawfirmList().subscribe({next:i=>{this.lawfirmList=i.body.responseBody.data},error:i=>{}}),this.countryService.getCountryDetails().subscribe({next:i=>{this.countryCodeList=i.body.responseBody.data},error:i=>{}}),this.createCaseService.getAllBrokers().subscribe({next:i=>{this.brokerList=i.body.responseBody.data,this.createCaseForm.controls.selectedBroker.setValue(this.brokerList[0].firstName,{onlySelf:!0}),console.log(this.brokerList)},error:i=>{}})}onSelectionOfClients(t){const n=t.target.value||0;if(this.t.length<n)for(let i=this.t.length;i<n;i++)this.t.push(this.formBuilder.group({id:0,newClient:!1,email:["",[a.kI.required,a.kI.email]],firstName:["",a.kI.required],middleName:[""],lastName:["",a.kI.required],DOB:[""],gender:["MALE",a.kI.required],countryCode:["",a.kI.required],currentAddressLine1:["",a.kI.required],currentAddressLine2:["",a.kI.required],currentZipCode:["",a.kI.compose([a.kI.required,a.kI.pattern("^[0-9]*$")])],currentLandMark:[""],currentState:[""],currentCountry:["",a.kI.required],addressType:["PERSONAL_ADDRESS",a.kI.required],mobile:["",a.kI.compose([a.kI.required,a.kI.minLength(10),a.kI.pattern("^[0-9]*$")])]}));else for(let i=this.t.length;i>=n;i--)this.t.removeAt(i)}returnResponseBody(t){let n=[],i={},l=0;for(let f=0;f<t.value.numberOfClients;f++){const d=this.createCaseForm.get("clientDetailsForm").at(f);l=parseInt(d.value.mobile),i=d.value.newClient?{newClient:d.value.newClient,user:{firstName:d.value.firstName,middleName:d.value.middleName?d.value.middleName:"",lastName:d.value.lastName,gender:d.value.gender,countryCode:d.value.countryCode,addressList:[{addressLine1:d.value.currentAddressLine1,addressLine2:d.value.currentAddressLine2,zipCode:d.value.currentZipCode,landmark:d.value.currentLandMark,state:d.value.currentState,country:d.value.currentCountry,addressType:d.value.addressType}],email:d.value.email,dob:d.value.DOB,mobile:l}}:{newClient:d.value.newClient,user:{id:d.value.id}},n.push(i)}let c=parseInt(t.value.amount),u=parseInt(t.value.lender),m=parseInt(t.value.lawfirm),p=parseInt(t.value.selectedBroker),v={header:{},body:{data:{clients:n,refinanceCase:{propertyAddress:{addressLine1:t.value.propertyAddressLine1,addressLine2:t.value.propertyAddressLine2,zipCode:t.value.propertyZipCode,landmark:t.value.propertyLandMark,state:t.value.propertyState,country:t.value.propertyCountryCode,addressType:t.value.propertyAddressType},amount:c,lender:u,lawfirm:m,brokerId:p,lawyerId:this.lawyerId}}}};return console.log(v),v}createCase(t){if(this.submitted=!0,this.createCaseForm.invalid)return;this.SpinnerService.show();let n=this.returnResponseBody(t);this.createCaseService.postClientCaseDetails(n).subscribe({next:i=>{this.SpinnerService.hide(),this.caseRef=i.body.responseBody.data.refinanceCase.caseRef,this.caseId=i.body.responseBody.data.refinanceCase.id},error:i=>{this.SpinnerService.hide(),this.serverError=!0,this.serverErrorMessage="Some Error Occuered , Please try again!!!"}})}getClientDetails(t,n){var i;const l=t.target.value||0,c=this.createCaseForm.get("clientDetailsForm").at(n);(null===(i=c.get("email"))||void 0===i?void 0:i.invalid)||(this.SpinnerService.show(),this.createCaseService.findClientDetails(l).subscribe({next:u=>{var m;this.SpinnerService.hide();const p=u.body.responseBody.data;0!==u.body.responseBody.data.length?(c.patchValue({id:p[0].id,newClient:!1,email:l,firstName:p[0].firstName,middleName:p[0].middleName,lastName:p[0].lastName,gender:p[0].gender,countryCode:p[0].countryCode,currentAddressLine1:p[0].addressList[0].addressLine1,currentAddressLine2:p[0].addressList[0].addressLine2,currentZipCode:p[0].addressList[0].zipCode,currentLandMark:p[0].addressList[0].landmark,currentState:p[0].addressList[0].state,currentCountry:p[0].addressList[0].country,addressType:p[0].addressList[0].addressType,mobile:p[0].contactList[0].contactData}),c.disable(),null===(m=c.get("email"))||void 0===m||m.enable({onlySelf:!0})):(c.enable(),c.reset(),c.patchValue({newClient:!0,email:l}))},error:u=>{this.SpinnerService.hide(),this.serverError=!0,this.serverErrorMessage="Some Error Occuered , Please try again!!!"}}))}moveToNextTab(t){let n=I(t.target).attr("href");console.log(n),console.log(I('#mytabs a[href="#caseDetails"]'))}moveToBackTab(t){this.activeTab=t}copyAddress(t){if(t.currentTarget.checked){const n=this.createCaseForm.get("clientDetailsForm").at(0);for(let i=1;i<this.t.length;i++)this.createCaseForm.get("clientDetailsForm").at(i).patchValue({countryCode:n.value.countryCode,currentAddressLine1:n.value.currentAddressLine1,currentAddressLine2:n.value.currentAddressLine2,currentZipCode:n.value.currentZipCode,currentLandMark:n.value.currentLandMark,currentState:n.value.currentState,currentCountry:n.value.currentCountry,addressType:n.value.addressType})}}selectFile(t){this.selectedFile=t.target.files}uploadDocument(){this.SpinnerService.show(),this.message="",this.serverError=!1,this.serverErrorMessage="",this.progress.percentage=0;let t=this.selectedFile.item(0);this.dashboardService.uploadDocument("FOA","FOA",t,this.caseId).subscribe({next:l=>{l.type===C.dt.UploadProgress?this.progress.percentage=Math.round(100*l.loaded/(l.total||0)):l instanceof C.Zn&&(this.message="Document Uploaded successfully!!!"),this.selectedFile=null,this.SpinnerService.hide()},error:l=>{this.SpinnerService.hide(),this.serverError=!0,this.serverErrorMessage=l.error.responseBody.errors[0].desc}})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(F.f),e.Y36(S.T),e.Y36(a.qu),e.Y36(g.F0),e.Y36(_.t2),e.Y36(V.t),e.Y36(G.J))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-create-case"]],viewQuery:function(t,n){if(1&t&&e.Gf($,5),2&t){let i;e.iGM(i=e.CRH())&&(n.tabset=i.first)}},decls:150,vars:21,consts:[[1,""],[1,"container","p-5"],["class","text-danger",4,"ngIf"],["role","tablist","id","mytabs",1,"nav","nav-tabs"],[1,"nav-item"],["data-bs-toggle","tab","href","#createCase",1,"nav-link","active"],["data-bs-toggle","tab","href","#caseDetails",1,"nav-link"],[1,"nav-item",3,"ngClass"],["data-bs-toggle","tab","href","#uploadFOA",1,"nav-link"],[1,"bg-white",3,"formGroup","ngSubmit"],[1,"tab-content"],["id","createCase",1,"container","tab-pane","active"],[1,"d-flex","justify-content-center","heading_panel"],[1,"row","mb-3","mt-3"],[1,"col-lg-4","col-md-4"],["id","sel1","name","selectRole","formControlName","numberOfClients",1,"form-select",3,"change"],["id","sel1","name","selectBroker","formControlName","selectedBroker",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],["class","list-group list-group-flush",4,"ngFor","ngForOf"],["id","caseDetails",1,"container","tab-pane","fade"],[1,"row"],[1,"col-12","col-md-4","col-lg-4"],[1,"p-3"],[1,"label_width"],["ngbTooltip","Please Enter Lender","placement","right",1,"fa","fa-info-circle"],["id","lender","name","lender","formControlName","lender",1,"form-select","p-2"],[1,"m-2"],["ngbTooltip","Please Enter Address Line 1","placement","right",1,"fa","fa-info-circle"],["type","text","id","","placeholder","Enter Address Line 1","name","addrsline1","formControlName","propertyAddressLine1",1,"form-control","p-2"],[2,"visibility","hidden"],["ngbTooltip","Please Enter Mobile No","placement","right",1,"fa","fa-info-circle"],["type","text","id","text","placeholder","Address LIne 2","name","addrsline2","formControlName","propertyAddressLine2",1,"form-control","p-2"],["ngbTooltip","Please Enter Zip Code","placement","right",1,"fa","fa-info-circle"],["type","text","id","text","placeholder","Zip Code","name","zipCode","formControlName","propertyZipCode",1,"form-control","p-2"],[2,"visobility","hidden"],["ngbTooltip","Please Enter Landmark","placement","right",1,"fa","fa-info-circle"],["type","text","id","text","placeholder","Landmark","name","landMark","formControlName","propertyLandMark",1,"form-control","p-2"],["for","countyCod",1,"p-3"],["id","countryCode","name","countrycode","formControlName","propertyCountryCode",1,"form-select","p-2"],["type","text","id","","placeholder","State","name","","formControlName","propertyState",1,"form-control","p-2"],["ngbTooltip","Please Enter Lawfirm","placement","right",1,"fa","fa-info-circle"],["id","lawfirm","name","lawfirm","formControlName","lawfirm",1,"form-select","p-2"],["ngbTooltip","Please Enter Amount","placement","right",1,"fa","fa-info-circle"],["type","text","id","","placeholder","amount","name","amount","formControlName","amount",1,"form-control","p-2"],["id","country","name","propertyAddressType","formControlName","propertyAddressType",1,"form-select"],[1,"col","mt-3"],[1,"form-check","mb-3"],["type","submit",1,"btn","btn-primary","float-end"],["id","uploadFOA",1,"container","tab-pane","fade","mt-4"],[1,"case_details"],[1,"col"],[1,"ms-4"],[1,"col","text-center"],["type","file","id","myfile","ngbTooltip","For Upload","name","myfile",1,"form-control",3,"change"],[1,"btn","btn-primary",3,"disabled","click"],["bdColor","rgba(51, 51, 51, 0.8)","size","medium","type","ball-circus"],[2,"color","white"],[1,"text-danger"],[4,"ngIf"],[3,"value"],[1,"list-group","list-group-flush"],[1,"card-title","card_title"],[3,"formGroup"],["ngbTooltip","Please Enter a Valid Email Please Enter Email is Mandatory ","placement","right",1,"fa","fa-info-circle"],["type","email","placeholder","Email","name","email","formControlName","email",1,"form-control","p-2",3,"change"],["ngbTooltip","Please Enter First Name ","ngbTooltip","Please Enter First Name ","placement","right",1,"fa","fa-info-circle"],["type","text","id","","placeholder","Enter First Name","name","firstName","formControlName","firstName",1,"form-control","p-2"],["ngbTooltip","Please Enter Middle  Name","placement","right",1,"fa","fa-info-circle"],["type","text","id","","placeholder","Enter Middle Name","name","middleName","formControlName","middleName",1,"form-control","p-2"],["ngbTooltip","Please Enter Last Name","placement","right",1,"fa","fa-info-circle"],["type","text","id","","placeholder","Enter Last Name","name","lastName","formControlName","lastName",1,"form-control","p-2"],["ngbTooltip","Please Enter Address","placement","right",1,"fa","fa-info-circle"],["type","date","id","","placeholder","select date","name","DOB","formControlName","DOB",1,"form-control","p-2"],["ngbTooltip","Please Select Gender","placement","right",1,"fa","fa-info-circle"],["id","gender","name","gender","formControlName","gender",1,"form-select","p-2"],["ngbTooltip","Please Select Country Code","placement","right",1,"fa","fa-info-circle"],["id","country","name","countryCode","formControlName","countryCode",1,"form-select","p-2"],["type","text","placeholder","Address Line 1 ","name","","formControlName","currentAddressLine1",1,"form-control","p-2"],["type","text","id","","placeholder","Address Line 2","name","","formControlName","currentAddressLine2",1,"form-control","p-2"],["type","text","id","","placeholder","Zip Code","name","","formControlName","currentZipCode",1,"form-control","p-2"],["for","landmark",1,"p-3"],["type","text","id","","placeholder","Landmark","name","currentLandMark","formControlName","currentLandMark",1,"form-control","p-2"],["for","state",1,"p-3"],["type","text","id","","placeholder","State","name","currentState","formControlName","currentState",1,"form-control","p-2"],["ngbTooltip","Please Select Country","placement","right",1,"fa","fa-info-circle"],["id","country","name","currentCountry","formControlName","currentCountry",1,"form-select","p-2"],["ngbTooltip","Please Select Address Type","placement","right",1,"fa","fa-info-circle"],["id","country","name","addressType","formControlName","addressType",1,"form-select","p-2"],["type","text","id","","placeholder","Mobile No.","name","mobile","formControlName","mobile",1,"form-control","p-2"],["class","form-check mt-3 mb-3",4,"ngIf"],[1,"form-check","mt-3","mb-3"],["type","checkbox","id","check2","name","option2","value","something",1,"form-check-input",3,"change"],["for","check2",1,"form-check-label"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,z,2,1,"div",2),e.TgZ(3,"ul",3)(4,"li",4)(5,"a",5),e._uU(6,"Client Details"),e.qZA()(),e.TgZ(7,"li",4)(8,"a",6),e._uU(9,"Matter Details"),e.qZA()(),e.TgZ(10,"li",7)(11,"a",8),e._uU(12,"Upload FOA"),e.qZA()()(),e.TgZ(13,"form",9),e.NdJ("ngSubmit",function(){return n.createCase(n.createCaseForm)}),e.TgZ(14,"div",10)(15,"div",11),e._UZ(16,"br"),e.TgZ(17,"h4",12),e._uU(18," Create case Instruction From"),e.qZA(),e.TgZ(19,"div",13)(20,"div",14)(21,"label"),e._uU(22," Number of client"),e.qZA(),e.TgZ(23,"select",15),e.NdJ("change",function(l){return n.onSelectionOfClients(l)}),e.TgZ(24,"option"),e._uU(25,"1"),e.qZA(),e.TgZ(26,"option"),e._uU(27,"2"),e.qZA(),e.TgZ(28,"option"),e._uU(29,"3"),e.qZA(),e.TgZ(30,"option"),e._uU(31,"4"),e.qZA()(),e.YNc(32,H,2,1,"div",2),e.qZA(),e.TgZ(33,"div",14)(34,"label"),e._uU(35," Brokers"),e.qZA(),e.TgZ(36,"select",16),e.YNc(37,X,2,3,"option",17),e.qZA(),e.YNc(38,ee,2,1,"div",2),e.qZA()(),e.YNc(39,Te,133,22,"div",18),e.qZA(),e.TgZ(40,"div",19),e._UZ(41,"br"),e.TgZ(42,"h4",12),e._uU(43," Create case Final From"),e.qZA(),e.TgZ(44,"div",20)(45,"div",21)(46,"label",22)(47,"span",23),e._uU(48,"Lender"),e.qZA(),e.TgZ(49,"span"),e._UZ(50,"i",24),e.qZA()(),e.TgZ(51,"select",25),e.YNc(52,ye,2,2,"option",17),e.qZA(),e.YNc(53,be,2,1,"div",2),e.qZA()(),e.TgZ(54,"div",20)(55,"label",26)(56,"span"),e._uU(57,"Property Address"),e.qZA()(),e.TgZ(58,"div",21)(59,"label",22)(60,"span",23),e._uU(61,"Address Line 1"),e.qZA(),e.TgZ(62,"span"),e._UZ(63,"i",27),e.qZA()(),e._UZ(64,"input",28),e.YNc(65,Ue,2,1,"div",2),e.qZA(),e.TgZ(66,"div",21)(67,"label",22)(68,"span",23),e._uU(69,"Address Line 2"),e.qZA(),e.TgZ(70,"span",29),e._UZ(71,"i",30),e.qZA()(),e._UZ(72,"input",31),e.qZA(),e.TgZ(73,"div",21)(74,"label",22)(75,"span",23),e._uU(76,"Zip Code"),e.qZA(),e.TgZ(77,"span"),e._UZ(78,"i",32),e.qZA()(),e._UZ(79,"input",33),e.YNc(80,Le,2,1,"div",2),e.qZA()(),e.TgZ(81,"div",20)(82,"div",21)(83,"label",22)(84,"span",23),e._uU(85,"Landmark"),e.qZA(),e.TgZ(86,"span",34),e._UZ(87,"i",35),e.qZA()(),e._UZ(88,"input",36),e.qZA(),e.TgZ(89,"div",21)(90,"label",37),e._uU(91,"Country Code"),e.qZA(),e.TgZ(92,"select",38),e.YNc(93,Ne,2,2,"option",17),e.qZA()(),e.TgZ(94,"div",21)(95,"label",22)(96,"span",23),e._uU(97,"State"),e.qZA(),e.TgZ(98,"span",34),e._UZ(99,"i",35),e.qZA()(),e._UZ(100,"input",39),e.qZA()(),e.TgZ(101,"div",20)(102,"div",21)(103,"label",22)(104,"span",23),e._uU(105,"Lawfirm"),e.qZA(),e.TgZ(106,"span"),e._UZ(107,"i",40),e.qZA()(),e.TgZ(108,"select",41),e.YNc(109,Ie,2,2,"option",17),e.qZA(),e.YNc(110,Se,2,1,"div",2),e.qZA(),e.TgZ(111,"div",21)(112,"label",22)(113,"span",23),e._uU(114,"Amount"),e.qZA(),e.TgZ(115,"span"),e._UZ(116,"i",42),e.qZA()(),e._UZ(117,"input",43),e.YNc(118,Ee,3,2,"div",2),e.qZA(),e.TgZ(119,"div",21)(120,"label",22)(121,"span",23),e._uU(122,"Address Type"),e.qZA(),e.TgZ(123,"span"),e._UZ(124,"i",35),e.qZA()(),e.TgZ(125,"select",44),e.YNc(126,ke,2,2,"option",17),e.qZA(),e.YNc(127,Qe,2,1,"div",2),e.qZA()(),e.TgZ(128,"div",20)(129,"div",45)(130,"div",46)(131,"button",47),e._uU(132,"Submit"),e.qZA()()()()(),e.TgZ(133,"div",48)(134,"h4",12),e._uU(135," Upload FOA"),e.qZA(),e.TgZ(136,"div",20)(137,"div",49)(138,"div",50)(139,"label"),e._uU(140,"Case Reference "),e.TgZ(141,"span",51),e._uU(142),e.qZA()()(),e.TgZ(143,"div",52)(144,"input",53),e.NdJ("change",function(l){return n.selectFile(l)}),e.qZA(),e.TgZ(145,"button",54),e.NdJ("click",function(){return n.uploadDocument()}),e._uU(146,"Save File"),e.qZA()()()()()(),e.TgZ(147,"ngx-spinner",55)(148,"p",56),e._uU(149,"Loading "),e.qZA()()()()()),2&t&&(e.xp6(2),e.Q6J("ngIf",n.serverError),e.xp6(8),e.Q6J("ngClass",e.VKq(19,Ye,0==n.caseId)),e.xp6(3),e.Q6J("formGroup",n.createCaseForm),e.xp6(19),e.Q6J("ngIf",(n.f.numberOfClients.touched||n.submitted)&&n.f.numberOfClients.errors),e.xp6(5),e.Q6J("ngForOf",n.brokerList),e.xp6(1),e.Q6J("ngIf",(n.f.selectedBroker.touched||n.submitted)&&n.f.selectedBroker.errors),e.xp6(1),e.Q6J("ngForOf",n.clientFormGroups),e.xp6(13),e.Q6J("ngForOf",n.lenderList),e.xp6(1),e.Q6J("ngIf",(n.f.lender.touched||n.submitted)&&n.f.lender.errors),e.xp6(12),e.Q6J("ngIf",(n.f.propertyAddressLine1.touched||n.submitted)&&n.f.propertyAddressLine1.errors),e.xp6(15),e.Q6J("ngIf",(n.f.propertyZipCode.touched||n.submitted)&&n.f.propertyZipCode.errors),e.xp6(13),e.Q6J("ngForOf",n.countryCodeList),e.xp6(16),e.Q6J("ngForOf",n.lawfirmList),e.xp6(1),e.Q6J("ngIf",(n.f.lawfirm.touched||n.submitted)&&n.f.lawfirm.errors),e.xp6(8),e.Q6J("ngIf",(n.f.amount.touched||n.submitted)&&n.f.amount.errors),e.xp6(8),e.Q6J("ngForOf",n.addressTypeList),e.xp6(1),e.Q6J("ngIf",(n.f.propertyAddressType.touched||n.submitted)&&n.f.propertyAddressType.errors),e.xp6(15),e.Oqu(n.caseRef),e.xp6(3),e.Q6J("disabled",!n.selectedFile))},directives:[Z.O5,Z.mk,a._Y,a.JL,a.sg,a.EJ,a.JJ,a.u,a.YN,a.Kr,Z.sg,x._L,a.Fj,_.Ro],styles:[".card-title[_ngcontent-%COMP%]{margin-bottom:.5rem;background:beige;padding:10px 18px;display:inline-block}@media screen and (min-width:768px){.card-title[_ngcontent-%COMP%]{width:21%}}.nav-tabs[_ngcontent-%COMP%]   li.disabled[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{pointer-events:none}"]}),r})();var Oe=s(2587);function Be(r,o){if(1&r&&(e.TgZ(0,"div",22),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.hij(" ",t.message," ")}}function Pe(r,o){if(1&r&&(e.TgZ(0,"div",23),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.hij(" ",t.serverErrorMessage," ")}}const Re=function(r){return[r]},je=function(r,o){return[r,o]},Ve=function(r,o,t){return[r,o,t]};let Ge=(()=>{class r{constructor(t,n,i,l,c){this.router=t,this.route=n,this.formBuilder=i,this.document=l,this.SpinnerService=c,this.progress={percentage:0},this.docKeyList=[],this.serverError=!1,this.serverErrorMessage="",this.DocType="",this.DocKey="",this.downloadJsonHref="",this.selectedFile=null,this.message="",this.actionValue="",this.caseId=0,this.parentUrl="",this.uploadForm=this.formBuilder.group({DocKey:["",a.kI.required]})}get f(){return this.uploadForm.controls}ngOnInit(){this.parentUrl=sessionStorage.getItem("parentUrl")||"",this.actionValue=sessionStorage.getItem("actionValue")||"";let t=sessionStorage.getItem("caseId")||"";this.caseId=parseInt(t),this.DocType=this.route.snapshot.params.docType,this.DocKey=this.DocType}selectFile(t){this.selectedFile=t.target.files}uploadDocument(){this.message="",this.serverError=!1,this.serverErrorMessage="",this.progress.percentage=0;let t=this.selectedFile.item(0);this.SpinnerService.show(),this.document.uploadDocument(this.DocType,this.DocKey,t,this.caseId).subscribe({next:n=>{n.type===C.dt.UploadProgress?this.progress.percentage=Math.round(100*n.loaded/(n.total||0)):n instanceof C.Zn&&(this.message="Document Uploaded successfully!!!"),this.selectedFile=null,this.SpinnerService.hide()},error:n=>{this.SpinnerService.hide(),this.serverError=!0,this.serverErrorMessage=n.error.responseBody.errors[0].desc}})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(g.F0),e.Y36(g.gz),e.Y36(a.qu),e.Y36(F.f),e.Y36(_.t2))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-upload-document"]],decls:34,vars:16,consts:[[1,"container"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],[2,"text-decoration","underline","color","blue","cursor","pointer",3,"routerLink"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row","d-flex","justify-content-center","align-items-center"],["bdColor","rgba(51, 51, 51, 0.8)","size","medium","type","ball-circus"],[2,"color","white"],[1,"widh_50",3,"formGroup"],[1,"list-group","list-group-light"],[1,"text-center","p-4"],["class","text-success",4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"list-group-item"],[1,"action_btn"],[1,"row"],[1,"col-md-4"],["for","dockey",1,"mt-1"],[1,"col-md-8"],["type","file","id","formFile",1,"form-control","d-inline-block","mt-3",3,"change"],[1,"btn","btn-primary","mt-3",3,"disabled","click"],[1,"text-success"],[1,"text-danger"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"nav",1)(2,"ol",2)(3,"li",3)(4,"a",4),e._uU(5,"Dashboard"),e.qZA()(),e.TgZ(6,"li",3)(7,"a",4),e._uU(8,"Case Details"),e.qZA()(),e.TgZ(9,"li",3)(10,"a",4),e._uU(11,"View Case"),e.qZA()(),e.TgZ(12,"li",5),e._uU(13,"Upload Document"),e.qZA()()(),e.TgZ(14,"div",6)(15,"ngx-spinner",7)(16,"p",8),e._uU(17,"Loading "),e.qZA()(),e.TgZ(18,"form",9)(19,"ul",10)(20,"h5",11),e._uU(21,"Upload Document"),e.qZA(),e.YNc(22,Be,2,1,"div",12),e.YNc(23,Pe,2,1,"div",13),e.TgZ(24,"li",14)(25,"span",15)(26,"div",16)(27,"div",17)(28,"label",18),e._uU(29,"Choose Document Type:"),e.qZA()(),e.TgZ(30,"div",19)(31,"input",20),e.NdJ("change",function(l){return n.selectFile(l)}),e.qZA(),e.TgZ(32,"button",21),e.NdJ("click",function(){return n.uploadDocument()}),e._uU(33,"Save File"),e.qZA()()()()()()()()()),2&t&&(e.xp6(4),e.Q6J("routerLink",e.VKq(7,Re,n.parentUrl+"/dashboard")),e.xp6(3),e.Q6J("routerLink",e.WLB(9,je,n.parentUrl+"/caseDetails",n.actionValue)),e.xp6(3),e.Q6J("routerLink",e.kEZ(12,Ve,n.parentUrl+"/viewCaseDetails",n.actionValue,n.caseId)),e.xp6(8),e.Q6J("formGroup",n.uploadForm),e.xp6(4),e.Q6J("ngIf",n.message),e.xp6(1),e.Q6J("ngIf",n.serverError),e.xp6(9),e.Q6J("disabled",!n.selectedFile))},directives:[g.yS,_.Ro,a._Y,a.JL,a.sg,Z.O5],styles:[""]}),r})();var $e=s(9056);const ze=[{path:"",component:R,children:[{path:"changePassword",component:J.p},{path:"viewCase",component:N.h},{path:"dashboard",component:w.F},{path:"caseDetails/:actionValue",component:E.n},{path:"createCase",component:Me},{path:"viewCaseDetails/:actionValue/:id",component:N.h},{path:"viewCaseAcknowledge",component:D.M},{path:"viewCaseChecklist",component:k.G},{path:"viewDocument",component:Q.w},{path:"viewCaseDocument/:caseId",component:M.R},{path:"changeUserName",component:Y.t},{path:"verifyDocument/:actionValue/:caseId",component:O.e},{path:"searchCase",component:Oe.r},{path:"uploadCommonDocument/:docType",component:Ge},{path:"uploadFoa",component:$e.a},{path:"",redirectTo:"dashboard",pathMatch:"full"}]}];let Ke=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[g.Bz.forChild(ze)],g.Bz]}),r})();var He=s(1793),Xe=s(6469);let We=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[S.T],imports:[[Z.ez,Ke,a.u5,a.UX,_.ef,x.IJ,x.jF,He.P4.forRoot(),Xe.i]]}),r})()}}]);