"use strict";(self.webpackChunkfinance_management_app=self.webpackChunkfinance_management_app||[]).push([[394],{394:(Ke,U,s)=>{s.r(U),s.d(U,{LawfirmManagerModule:()=>He});var Z=s(9808),C=s(5425),e=s(5e3),w=s(9155),F=s(1054);let S=(()=>{class r{constructor(){}ngOnInit(){sessionStorage.setItem("parentUrl","/lawfirm-manager")}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-manager-dashboard"]],decls:14,vars:0,consts:[[1,"container-fluid","container_fluid"],[1,"row","flex-nowrap"],[1,"col-auto","px-0"],[1,"col","ps-md-2","pt-2"],[1,"row"],["href","#","data-bs-target","#sidebar","data-bs-toggle","collapse",1,"p-1",2,"font-size","24px"],[1,"bi","bi-list","bi-lg","py-2","p-1"],["aria-hidden","true",1,"fa","fa-bars"],[1,"col-12"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-top-menu"),e.TgZ(2,"div",1)(3,"div",2),e._UZ(4,"app-side-navigation"),e.qZA(),e.TgZ(5,"main",3)(6,"div",4)(7,"a",5),e._UZ(8,"i",6),e.TgZ(9,"span"),e._UZ(10,"i",7),e.qZA()(),e.TgZ(11,"div",8)(12,"div"),e._UZ(13,"router-outlet"),e.qZA()()()()()())},directives:[w.z,F.e,C.lC],styles:[""]}),r})();var E=s(8560),x=s(7712),Q=s(1722),k=s(6681),M=s(4692),Y=s(7014),O=s(8010),D=s(9056),B=s(3087),P=s(6400),R=s(2374),a=s(2382),j=s(242),L=s(520),I=s(8259),$=s(8157),J=s(7126),q=s(72),G=s(8671),z=s(979),N=s(8512);const V=["tabset"];function H(r,i){if(1&r&&(e.TgZ(0,"div",58),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.hij(" ",t.serverErrorMessage," ")}}function K(r,i){1&r&&(e.TgZ(0,"div"),e._uU(1,"Please Choose no. of Client"),e.qZA())}function X(r,i){if(1&r&&(e.TgZ(0,"div",58),e.YNc(1,K,2,0,"div",59),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.numberOfClients.errors.required)}}function W(r,i){if(1&r&&(e.TgZ(0,"option",60),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.Q6J("value",t.id),e.xp6(1),e.AsE(" ",t.firstName," ",t.lastName," ")}}function ee(r,i){1&r&&(e.TgZ(0,"div"),e._uU(1,"This field is required"),e.qZA())}function te(r,i){if(1&r&&(e.TgZ(0,"div",58),e.YNc(1,ee,2,0,"div",59),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.selectedBroker.errors.required)}}function re(r,i){if(1&r&&(e.TgZ(0,"option",60),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.Q6J("value",t.id),e.xp6(1),e.AsE(" ",t.firstName," ",t.lastName," ")}}function ne(r,i){1&r&&(e.TgZ(0,"div"),e._uU(1,"This field is required"),e.qZA())}function ie(r,i){if(1&r&&(e.TgZ(0,"div",58),e.YNc(1,ne,2,0,"div",59),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.selectedLawyer.errors.required)}}function oe(r,i){1&r&&(e.TgZ(0,"div",58),e._uU(1," Email is required "),e.qZA())}function ae(r,i){1&r&&(e.TgZ(0,"div",58),e._uU(1,"Email is not valid"),e.qZA())}function se(r,i){1&r&&(e.TgZ(0,"div",58),e._uU(1," First Name is required "),e.qZA())}function le(r,i){1&r&&(e.TgZ(0,"div",58),e._uU(1," Last Name is required "),e.qZA())}function de(r,i){if(1&r&&(e.TgZ(0,"option",60),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function pe(r,i){1&r&&(e.TgZ(0,"div",58),e._uU(1," Gender is required "),e.qZA())}function ce(r,i){if(1&r&&(e.TgZ(0,"option",60),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function ue(r,i){1&r&&(e.TgZ(0,"div",58),e._uU(1," Country is required "),e.qZA())}function me(r,i){1&r&&(e.TgZ(0,"div",58),e._uU(1," Address is required "),e.qZA())}function fe(r,i){1&r&&(e.TgZ(0,"div",58),e._uU(1," Address is required "),e.qZA())}function ge(r,i){1&r&&(e.TgZ(0,"div",58),e._uU(1," Zipcode is required "),e.qZA())}function ve(r,i){1&r&&(e.TgZ(0,"div",58),e._uU(1," Zipcode must be in numeric "),e.qZA())}function Ze(r,i){if(1&r&&(e.TgZ(0,"option",60),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function Ce(r,i){1&r&&(e.TgZ(0,"div",58),e._uU(1," Country is required "),e.qZA())}function _e(r,i){if(1&r&&(e.TgZ(0,"option",60),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function he(r,i){1&r&&(e.TgZ(0,"div",58),e._uU(1," Address Type is required "),e.qZA())}function Te(r,i){1&r&&(e.TgZ(0,"div",58),e._uU(1," Mobile is required "),e.qZA())}function Ae(r,i){1&r&&(e.TgZ(0,"div",58),e._uU(1," Mobile Number must be at least 10 digits "),e.qZA())}function ye(r,i){1&r&&(e.TgZ(0,"div",58),e._uU(1," Mobile Number must be numeric "),e.qZA())}function be(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",91)(1,"input",92),e.NdJ("change",function(o){return e.CHM(t),e.oxw(2).copyAddress(o)}),e.qZA(),e.TgZ(2,"label",93),e._uU(3,"Copy Address Details"),e.qZA()()}}function qe(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",61)(1,"h5",62),e._uU(2),e.qZA(),e.TgZ(3,"div",63)(4,"div",21)(5,"div",22)(6,"label",23)(7,"span",24),e._uU(8,"Email "),e.qZA(),e.TgZ(9,"span"),e._UZ(10,"i",64),e.qZA()(),e.TgZ(11,"input",65),e.NdJ("change",function(o){const p=e.CHM(t).index;return e.oxw().getClientDetails(o,p)}),e.qZA(),e.YNc(12,oe,2,0,"div",2),e.YNc(13,ae,2,0,"div",2),e.qZA()(),e.TgZ(14,"div",21)(15,"div",22)(16,"label",23)(17,"span",24),e._uU(18,"First Name "),e.qZA(),e.TgZ(19,"span"),e._UZ(20,"i",66),e.qZA()(),e._UZ(21,"input",67),e.YNc(22,se,2,0,"div",2),e.qZA(),e.TgZ(23,"div",22)(24,"label",23)(25,"span",24),e._uU(26,"Middle Name "),e.qZA(),e.TgZ(27,"span",30),e._UZ(28,"i",68),e.qZA()(),e._UZ(29,"input",69),e.qZA(),e.TgZ(30,"div",22)(31,"label",23)(32,"span",24),e._uU(33,"Last Name "),e.qZA(),e.TgZ(34,"span"),e._UZ(35,"i",70),e.qZA()(),e._UZ(36,"input",71),e.YNc(37,le,2,0,"div",2),e.qZA()(),e.TgZ(38,"div",21)(39,"div",22)(40,"label",23)(41,"span",24),e._uU(42,"DOB "),e.qZA(),e.TgZ(43,"span",30),e._UZ(44,"i",72),e.qZA()(),e._UZ(45,"input",73),e.qZA(),e.TgZ(46,"div",22)(47,"label",23)(48,"span",24),e._uU(49,"Gender "),e.qZA(),e.TgZ(50,"span"),e._UZ(51,"i",74),e.qZA()(),e.TgZ(52,"select",75),e.YNc(53,de,2,2,"option",17),e.qZA(),e.YNc(54,pe,2,0,"div",2),e.qZA(),e.TgZ(55,"div",22)(56,"label",23)(57,"span",24),e._uU(58,"Country Code "),e.qZA(),e.TgZ(59,"span"),e._UZ(60,"i",76),e.qZA()(),e.TgZ(61,"select",77),e.YNc(62,ce,2,2,"option",17),e.qZA(),e.YNc(63,ue,2,0,"div",2),e.qZA()(),e.TgZ(64,"div",21)(65,"div",22)(66,"label",23)(67,"span",24),e._uU(68,"Address Line 1 "),e.qZA(),e.TgZ(69,"span"),e._UZ(70,"i",72),e.qZA()(),e._UZ(71,"input",78),e.YNc(72,me,2,0,"div",2),e.qZA(),e.TgZ(73,"div",22)(74,"label",23)(75,"span",24),e._uU(76,"Address Line 2 "),e.qZA(),e.TgZ(77,"span"),e._UZ(78,"i",72),e.qZA()(),e._UZ(79,"input",79),e.YNc(80,fe,2,0,"div",2),e.qZA(),e.TgZ(81,"div",22)(82,"label",23)(83,"span",24),e._uU(84,"Zip Code"),e.qZA(),e.TgZ(85,"span"),e._UZ(86,"i",33),e.qZA()(),e._UZ(87,"input",80),e.YNc(88,ge,2,0,"div",2),e.YNc(89,ve,2,0,"div",2),e.qZA()(),e.TgZ(90,"div",21)(91,"div",22)(92,"label",81),e._uU(93,"Landmark "),e.TgZ(94,"span",30),e._UZ(95,"i",72),e.qZA()(),e._UZ(96,"input",82),e.qZA(),e.TgZ(97,"div",22)(98,"label",83),e._uU(99,"State "),e.TgZ(100,"span",30),e._UZ(101,"i",72),e.qZA()(),e._UZ(102,"input",84),e.qZA(),e.TgZ(103,"div",22)(104,"label",23)(105,"span",24),e._uU(106,"Country "),e.qZA(),e.TgZ(107,"span"),e._UZ(108,"i",85),e.qZA()(),e.TgZ(109,"select",86),e.YNc(110,Ze,2,2,"option",17),e.qZA(),e.YNc(111,Ce,2,0,"div",2),e.qZA()(),e.TgZ(112,"div",21)(113,"div",22)(114,"label",23)(115,"span",24),e._uU(116,"Address Type "),e.qZA(),e.TgZ(117,"span"),e._UZ(118,"i",87),e.qZA()(),e.TgZ(119,"select",88),e.YNc(120,_e,2,2,"option",17),e.qZA(),e.YNc(121,he,2,0,"div",2),e.qZA(),e.TgZ(122,"div",22)(123,"label",23)(124,"span",24),e._uU(125,"Mobile No"),e.qZA(),e.TgZ(126,"span"),e._UZ(127,"i",31),e.qZA()(),e._UZ(128,"input",89),e.YNc(129,Te,2,0,"div",2),e.YNc(130,Ae,2,0,"div",2),e.YNc(131,ye,2,0,"div",2),e.qZA()(),e.YNc(132,be,4,0,"div",90),e.qZA()()}if(2&r){const t=i.$implicit,n=i.index,o=e.oxw();let l,p,u,m,c,v,g,f,d,_,h,T,A,y,b;e.xp6(2),e.hij("Client Details ",n+1,""),e.xp6(1),e.Q6J("formGroup",t),e.xp6(9),e.Q6J("ngIf",((null==(l=t.get("email"))?null:l.touched)||o.submitted)&&(null==t||null==(l=t.get("email"))?null:l.hasError("required"))),e.xp6(1),e.Q6J("ngIf",((null==(p=t.get("email"))?null:p.touched)||o.submitted)&&(null==t||null==(p=t.get("email"))?null:p.hasError("email"))),e.xp6(9),e.Q6J("ngIf",((null==(u=t.get("firstName"))?null:u.touched)||o.submitted)&&(null==t||null==(u=t.get("firstName"))?null:u.hasError("required"))),e.xp6(15),e.Q6J("ngIf",((null==(m=t.get("lastName"))?null:m.touched)||o.submitted)&&(null==t||null==(m=t.get("lastName"))?null:m.hasError("required"))),e.xp6(16),e.Q6J("ngForOf",o.genderList),e.xp6(1),e.Q6J("ngIf",((null==(c=t.get("gender"))?null:c.touched)||o.submitted)&&(null==t||null==(c=t.get("gender"))?null:c.hasError("required"))),e.xp6(8),e.Q6J("ngForOf",o.countryCodeList),e.xp6(1),e.Q6J("ngIf",((null==(v=t.get("countryCode"))?null:v.touched)||o.submitted)&&(null==t||null==(v=t.get("countryCode"))?null:v.hasError("required"))),e.xp6(9),e.Q6J("ngIf",((null==(g=t.get("currentAddressLine1"))?null:g.touched)||o.submitted)&&(null==t||null==(g=t.get("currentAddressLine1"))?null:g.hasError("required"))),e.xp6(8),e.Q6J("ngIf",((null==(f=t.get("currentAddressLine2"))?null:f.touched)||o.submitted)&&(null==t||null==(f=t.get("currentAddressLine2"))?null:f.hasError("required"))),e.xp6(8),e.Q6J("ngIf",((null==(d=t.get("currentZipCode"))?null:d.touched)||o.submitted)&&(null==t||null==(d=t.get("currentZipCode"))?null:d.hasError("required"))),e.xp6(1),e.Q6J("ngIf",((null==(_=t.get("currentZipCode"))?null:_.touched)||o.submitted)&&(null==t||null==(_=t.get("currentZipCode"))?null:_.hasError("pattern"))),e.xp6(21),e.Q6J("ngForOf",o.countryCodeList),e.xp6(1),e.Q6J("ngIf",((null==(h=t.get("currentCountry"))?null:h.touched)||o.submitted)&&(null==t||null==(h=t.get("currentCountry"))?null:h.hasError("required"))),e.xp6(9),e.Q6J("ngForOf",o.addressTypeList),e.xp6(1),e.Q6J("ngIf",((null==(T=t.get("addressType"))?null:T.touched)||o.submitted)&&(null==t||null==(T=t.get("addressType"))?null:T.hasError("required"))),e.xp6(8),e.Q6J("ngIf",((null==(A=t.get("mobile"))?null:A.touched)||o.submitted)&&(null==t||null==(A=t.get("mobile"))?null:A.hasError("required"))),e.xp6(1),e.Q6J("ngIf",((null==(y=t.get("mobile"))?null:y.touched)||o.submitted)&&(null==t||null==(y=t.get("mobile"))?null:y.hasError("minlength"))),e.xp6(1),e.Q6J("ngIf",((null==(b=t.get("mobile"))?null:b.touched)||o.submitted)&&(null==t||null==(b=t.get("mobile"))?null:b.hasError("pattern"))),e.xp6(1),e.Q6J("ngIf",o.f.numberOfClients.value>=2&&0==n)}}function Ne(r,i){if(1&r&&(e.TgZ(0,"option",60),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function Ue(r,i){1&r&&(e.TgZ(0,"div"),e._uU(1,"Lender Details are required"),e.qZA())}function xe(r,i){if(1&r&&(e.TgZ(0,"div",58),e.YNc(1,Ue,2,0,"div",59),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.lender.errors.required)}}function Le(r,i){1&r&&(e.TgZ(0,"div"),e._uU(1,"Address is required"),e.qZA())}function Ie(r,i){if(1&r&&(e.TgZ(0,"div",58),e.YNc(1,Le,2,0,"div",59),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.propertyAddressLine1.errors.required)}}function Je(r,i){1&r&&(e.TgZ(0,"div"),e._uU(1,"Zipcode is required"),e.qZA())}function we(r,i){if(1&r&&(e.TgZ(0,"div",58),e.YNc(1,Je,2,0,"div",59),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.propertyZipCode.errors.required)}}function Fe(r,i){if(1&r&&(e.TgZ(0,"option",60),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function Se(r,i){if(1&r&&(e.TgZ(0,"option",60),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.organisationName," ")}}function Ee(r,i){1&r&&(e.TgZ(0,"div"),e._uU(1,"Lawfirm is required"),e.qZA())}function Qe(r,i){if(1&r&&(e.TgZ(0,"div",58),e.YNc(1,Ee,2,0,"div",59),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.lawfirm.errors.required)}}function ke(r,i){1&r&&(e.TgZ(0,"div"),e._uU(1,"Amount is required"),e.qZA())}function Me(r,i){1&r&&(e.TgZ(0,"div"),e._uU(1,"Amount must be in numeric"),e.qZA())}function Ye(r,i){if(1&r&&(e.TgZ(0,"div",58),e.YNc(1,ke,2,0,"div",59),e.YNc(2,Me,2,0,"div",59),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.amount.errors.required),e.xp6(1),e.Q6J("ngIf",t.f.amount.errors.pattern)}}function Oe(r,i){if(1&r&&(e.TgZ(0,"option",60),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function De(r,i){1&r&&(e.TgZ(0,"div"),e._uU(1,"Address Type is required"),e.qZA())}function Be(r,i){if(1&r&&(e.TgZ(0,"div",58),e.YNc(1,De,2,0,"div",59),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.propertyAddressType.errors.required)}}const Pe=function(r){return{disabled:r}};let Re=(()=>{class r{constructor(t,n,o,l,p,u,m){this.dashboardService=t,this.createCaseService=n,this.formBuilder=o,this.router=l,this.SpinnerService=p,this.commonService=u,this.countryService=m,this.submitted=!1,this.lawyerId=0,this.currentfieldTextType=!1,this.newfieldTextType=!1,this.confirmfieldTextType=!1,this.message="",this.serverError=!1,this.serverErrorMessage="",this.genderList=["MALE","FEMALE"],this.countryCodeList=[],this.addressTypeList=[],this.lawfirmList=[],this.lenderList=[],this.brokerList=[],this.LawyerList=[],this.user={},this.caseRef="",this.caseId=0,this.parentUrl="",this.progress={percentage:0},this.selectedFile=null,this.createCaseForm=this.formBuilder.group({numberOfClients:[0,a.kI.required],lender:["",a.kI.required],selectedBroker:["",a.kI.required],selectedLawyer:["",a.kI.required],propertyAddressLine1:["",a.kI.required],propertyAddressLine2:[""],propertyZipCode:["",a.kI.required],propertyLandMark:[""],propertyCountryCode:[""],propertyState:[""],propertyAddressType:["PERSONAL_ADDRESS",a.kI.required],lawfirm:["",a.kI.required],amount:["",a.kI.compose([a.kI.required,a.kI.pattern("^[0-9]*$")])],clientDetailsForm:new a.Oe([],(0,j.C)())}),this.activeTab="createCase",this.index=0}get f(){return this.createCaseForm.controls}get t(){return this.f.clientDetailsForm}get clientFormGroups(){return this.t.controls}ngOnInit(){this.user=JSON.parse(sessionStorage.getItem("user")||"{}"),this.lawyerId=parseInt(this.user.id),this.commonService.getAdressType().subscribe({next:n=>{this.addressTypeList=n.body.responseBody.data,this.createCaseForm.controls.propertyAddressType.setValue(this.addressTypeList[0],{onlySelf:!0})},error:n=>{}}),this.commonService.getLenderList().subscribe({next:n=>{this.lenderList=n.body.responseBody.data},error:n=>{}}),this.commonService.getLawfirmList().subscribe({next:n=>{this.lawfirmList=n.body.responseBody.data},error:n=>{}}),this.countryService.getCountryDetails().subscribe({next:n=>{this.countryCodeList=n.body.responseBody.data},error:n=>{}}),this.createCaseService.getAllBrokers().subscribe({next:n=>{this.brokerList=n.body.responseBody.data},error:n=>{}}),this.createCaseService.getAllLawfirmAssociates(this.lawyerId).subscribe({next:n=>{this.LawyerList=n.body.responseBody.data;let o=this.user.roles;console.log(o),o.forEach(l=>{"LAWFIRM_LAWYER"===l&&this.LawyerList.push({id:this.lawyerId,firstName:this.user.firstName,lastName:this.user.lastName})})},error:n=>{}})}onSelectionOfClients(t){const n=t.target.value||0;if(this.t.length<n)for(let o=this.t.length;o<n;o++)this.t.push(this.formBuilder.group({id:0,newClient:!1,email:["",[a.kI.required,a.kI.email]],firstName:["",a.kI.required],middleName:[""],lastName:["",a.kI.required],DOB:[""],gender:["MALE",a.kI.required],countryCode:["",a.kI.required],currentAddressLine1:["",a.kI.required],currentAddressLine2:["",a.kI.required],currentZipCode:["",a.kI.compose([a.kI.required,a.kI.pattern("^[0-9]*$")])],currentLandMark:[""],currentState:[""],currentCountry:["",a.kI.required],addressType:["PERSONAL_ADDRESS",a.kI.required],mobile:["",a.kI.compose([a.kI.required,a.kI.minLength(10),a.kI.pattern("^[0-9]*$")])]}));else for(let o=this.t.length;o>=n;o--)this.t.removeAt(o)}returnResponseBody(t){let n=[],o={},l=0;for(let f=0;f<t.value.numberOfClients;f++){const d=this.createCaseForm.get("clientDetailsForm").at(f);l=parseInt(d.value.mobile),o=d.value.newClient?{newClient:d.value.newClient,user:{firstName:d.value.firstName,middleName:d.value.middleName?d.value.middleName:"",lastName:d.value.lastName,gender:d.value.gender,countryCode:d.value.countryCode,addressList:[{addressLine1:d.value.currentAddressLine1,addressLine2:d.value.currentAddressLine2,zipCode:d.value.currentZipCode,landmark:d.value.currentLandMark,state:d.value.currentState,country:d.value.currentCountry,addressType:d.value.addressType}],email:d.value.email,dob:d.value.DOB,mobile:l}}:{newClient:d.value.newClient,user:{id:d.value.id}},n.push(o)}let p=parseInt(t.value.amount),u=parseInt(t.value.lender),m=parseInt(t.value.lawfirm),c=parseInt(t.value.selectedBroker),v=parseInt(t.value.selectedLawyer),g={header:{},body:{data:{clients:n,refinanceCase:{propertyAddress:{addressLine1:t.value.propertyAddressLine1,addressLine2:t.value.propertyAddressLine2,zipCode:t.value.propertyZipCode,landmark:t.value.propertyLandMark,state:t.value.propertyState,country:t.value.propertyCountryCode,addressType:t.value.propertyAddressType},amount:p,lender:u,lawfirm:m,brokerId:c,lawyerId:v}}}};return console.log(g),g}createCase(t){if(this.submitted=!0,this.createCaseForm.invalid)return;this.SpinnerService.show();let n=this.returnResponseBody(t);this.createCaseService.postClientCaseDetails(n).subscribe({next:o=>{this.SpinnerService.hide(),this.caseRef=o.body.responseBody.data.refinanceCase.caseRef,this.caseId=o.body.responseBody.data.refinanceCase.id},error:o=>{this.SpinnerService.hide(),this.serverError=!0,this.serverErrorMessage="Some Error Occuered , Please try again!!!"}})}getClientDetails(t,n){var o;const l=t.target.value||0,p=this.createCaseForm.get("clientDetailsForm").at(n);(null===(o=p.get("email"))||void 0===o?void 0:o.invalid)||(this.SpinnerService.show(),this.createCaseService.findClientDetails(l).subscribe({next:u=>{var m;this.SpinnerService.hide();const c=u.body.responseBody.data;0!==u.body.responseBody.data.length?(p.patchValue({id:c[0].id,newClient:!1,email:l,firstName:c[0].firstName,middleName:c[0].middleName,lastName:c[0].lastName,gender:c[0].gender,countryCode:c[0].countryCode,currentAddressLine1:c[0].addressList[0].addressLine1,currentAddressLine2:c[0].addressList[0].addressLine2,currentZipCode:c[0].addressList[0].zipCode,currentLandMark:c[0].addressList[0].landmark,currentState:c[0].addressList[0].state,currentCountry:c[0].addressList[0].country,addressType:c[0].addressList[0].addressType,mobile:c[0].contactList[0].contactData}),p.disable(),null===(m=p.get("email"))||void 0===m||m.enable({onlySelf:!0})):(p.enable(),p.reset(),p.patchValue({newClient:!0,email:l}))},error:u=>{this.SpinnerService.hide(),this.serverError=!0,this.serverErrorMessage="Some Error Occuered , Please try again!!!"}}))}moveToNextTab(t){let n=I(t.target).attr("href");console.log(n),console.log(I('#mytabs a[href="#caseDetails"]'))}moveToBackTab(t){this.activeTab=t}copyAddress(t){if(t.currentTarget.checked){const n=this.createCaseForm.get("clientDetailsForm").at(0);for(let o=1;o<this.t.length;o++)this.createCaseForm.get("clientDetailsForm").at(o).patchValue({countryCode:n.value.countryCode,currentAddressLine1:n.value.currentAddressLine1,currentAddressLine2:n.value.currentAddressLine2,currentZipCode:n.value.currentZipCode,currentLandMark:n.value.currentLandMark,currentState:n.value.currentState,currentCountry:n.value.currentCountry,addressType:n.value.addressType})}}selectFile(t){this.selectedFile=t.target.files}uploadDocument(){this.SpinnerService.show(),this.message="",this.serverError=!1,this.serverErrorMessage="",this.progress.percentage=0;let t=this.selectedFile.item(0);this.dashboardService.uploadDocument("FOA","FOA",t,this.caseId).subscribe({next:l=>{l.type===L.dt.UploadProgress?this.progress.percentage=Math.round(100*l.loaded/(l.total||0)):l instanceof L.Zn&&(this.message="Document Uploaded successfully!!!"),this.selectedFile=null,this.SpinnerService.hide()},error:l=>{this.SpinnerService.hide(),this.serverError=!0,this.serverErrorMessage=l.error.responseBody.errors[0].desc}})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36($.f),e.Y36(J.T),e.Y36(a.qu),e.Y36(C.F0),e.Y36(q.t2),e.Y36(G.t),e.Y36(z.J))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-create-case"]],viewQuery:function(t,n){if(1&t&&e.Gf(V,5),2&t){let o;e.iGM(o=e.CRH())&&(n.tabset=o.first)}},decls:156,vars:23,consts:[[1,""],[1,"container","p-5"],["class","text-danger",4,"ngIf"],["role","tablist","id","mytabs",1,"nav","nav-tabs"],[1,"nav-item"],["data-bs-toggle","tab","href","#createCase",1,"nav-link","active"],["data-bs-toggle","tab","href","#caseDetails",1,"nav-link"],[1,"nav-item",3,"ngClass"],["data-bs-toggle","tab","href","#uploadFOA",1,"nav-link"],[1,"bg-white",3,"formGroup","ngSubmit"],[1,"tab-content"],["id","createCase",1,"container","tab-pane","active"],[1,"d-flex","justify-content-center","heading_panel"],[1,"row","mb-3","mt-3"],[1,"col-lg-4","col-md-4"],["id","sel1","name","selectRole","formControlName","numberOfClients",1,"form-select",3,"change"],["id","sel1","name","selectBroker","formControlName","selectedBroker",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],["id","sel1","name","selectBroker","formControlName","selectedLawyer",1,"form-select"],["class","list-group list-group-flush",4,"ngFor","ngForOf"],["id","caseDetails",1,"container","tab-pane","fade"],[1,"row"],[1,"col-12","col-md-4","col-lg-4"],[1,"p-3"],[1,"label_width"],["ngbTooltip","Please Enter Lender","placement","right",1,"fa","fa-info-circle"],["id","lender","name","lender","formControlName","lender",1,"form-select","p-2"],[1,"m-2"],["ngbTooltip","Please Enter Address Line 1","placement","right",1,"fa","fa-info-circle"],["type","text","id","","placeholder","Enter Address Line 1","name","addrsline1","formControlName","propertyAddressLine1",1,"form-control","p-2"],[2,"visibility","hidden"],["ngbTooltip","Please Enter Mobile No","placement","right",1,"fa","fa-info-circle"],["type","text","id","text","placeholder","Address LIne 2","name","addrsline2","formControlName","propertyAddressLine2",1,"form-control","p-2"],["ngbTooltip","Please Enter Zip Code","placement","right",1,"fa","fa-info-circle"],["type","text","id","text","placeholder","Zip Code","name","zipCode","formControlName","propertyZipCode",1,"form-control","p-2"],[2,"visobility","hidden"],["ngbTooltip","Please Enter Landmark","placement","right",1,"fa","fa-info-circle"],["type","text","id","text","placeholder","Landmark","name","landMark","formControlName","propertyLandMark",1,"form-control","p-2"],["for","countyCod",1,"p-3"],["id","countryCode","name","countrycode","formControlName","propertyCountryCode",1,"form-select","p-2"],["type","text","id","","placeholder","State","name","","formControlName","propertyState",1,"form-control","p-2"],["ngbTooltip","Please Enter Lawfirm","placement","right",1,"fa","fa-info-circle"],["id","lawfirm","name","lawfirm","formControlName","lawfirm",1,"form-select","p-2"],["ngbTooltip","Please Enter Amount","placement","right",1,"fa","fa-info-circle"],["type","text","id","","placeholder","amount","name","amount","formControlName","amount",1,"form-control","p-2"],["id","country","name","propertyAddressType","formControlName","propertyAddressType",1,"form-select"],[1,"col","mt-3"],[1,"form-check","mb-3"],["type","submit",1,"btn","btn-primary","float-end"],["id","uploadFOA",1,"container","tab-pane","fade","mt-4"],[1,"case_details"],[1,"col"],[1,"ms-4"],[1,"col","text-center"],["type","file","id","myfile","ngbTooltip","For Upload","name","myfile",1,"form-control",3,"change"],[1,"btn","btn-primary",3,"disabled","click"],["bdColor","rgba(51, 51, 51, 0.8)","size","medium","type","ball-circus"],[2,"color","white"],[1,"text-danger"],[4,"ngIf"],[3,"value"],[1,"list-group","list-group-flush"],[1,"card-title","card_title"],[3,"formGroup"],["ngbTooltip","Please Enter a Valid Email Please Enter Email is Mandatory ","placement","right",1,"fa","fa-info-circle"],["type","email","placeholder","Email","name","email","formControlName","email",1,"form-control","p-2",3,"change"],["ngbTooltip","Please Enter First Name ","ngbTooltip","Please Enter First Name ","placement","right",1,"fa","fa-info-circle"],["type","text","id","","placeholder","Enter First Name","name","firstName","formControlName","firstName",1,"form-control","p-2"],["ngbTooltip","Please Enter Middle  Name","placement","right",1,"fa","fa-info-circle"],["type","text","id","","placeholder","Enter Middle Name","name","middleName","formControlName","middleName",1,"form-control","p-2"],["ngbTooltip","Please Enter Last Name","placement","right",1,"fa","fa-info-circle"],["type","text","id","","placeholder","Enter Last Name","name","lastName","formControlName","lastName",1,"form-control","p-2"],["ngbTooltip","Please Enter Address","placement","right",1,"fa","fa-info-circle"],["type","date","id","","placeholder","select date","name","DOB","formControlName","DOB",1,"form-control","p-2"],["ngbTooltip","Please Select Gender","placement","right",1,"fa","fa-info-circle"],["id","gender","name","gender","formControlName","gender",1,"form-select","p-2"],["ngbTooltip","Please Select Country Code","placement","right",1,"fa","fa-info-circle"],["id","country","name","countryCode","formControlName","countryCode",1,"form-select","p-2"],["type","text","placeholder","Address Line 1 ","name","","formControlName","currentAddressLine1",1,"form-control","p-2"],["type","text","id","","placeholder","Address Line 2","name","","formControlName","currentAddressLine2",1,"form-control","p-2"],["type","text","id","","placeholder","Zip Code","name","","formControlName","currentZipCode",1,"form-control","p-2"],["for","landmark",1,"p-3"],["type","text","id","","placeholder","Landmark","name","currentLandMark","formControlName","currentLandMark",1,"form-control","p-2"],["for","state",1,"p-3"],["type","text","id","","placeholder","State","name","currentState","formControlName","currentState",1,"form-control","p-2"],["ngbTooltip","Please Select Country","placement","right",1,"fa","fa-info-circle"],["id","country","name","currentCountry","formControlName","currentCountry",1,"form-select","p-2"],["ngbTooltip","Please Select Address Type","placement","right",1,"fa","fa-info-circle"],["id","country","name","addressType","formControlName","addressType",1,"form-select","p-2"],["type","text","id","","placeholder","Mobile No.","name","mobile","formControlName","mobile",1,"form-control","p-2"],["class","form-check mt-3 mb-3",4,"ngIf"],[1,"form-check","mt-3","mb-3"],["type","checkbox","id","check2","name","option2","value","something",1,"form-check-input",3,"change"],["for","check2",1,"form-check-label"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,H,2,1,"div",2),e.TgZ(3,"ul",3)(4,"li",4)(5,"a",5),e._uU(6,"Client Details"),e.qZA()(),e.TgZ(7,"li",4)(8,"a",6),e._uU(9,"Matter Details"),e.qZA()(),e.TgZ(10,"li",7)(11,"a",8),e._uU(12,"Upload FOA"),e.qZA()()(),e.TgZ(13,"form",9),e.NdJ("ngSubmit",function(){return n.createCase(n.createCaseForm)}),e.TgZ(14,"div",10)(15,"div",11),e._UZ(16,"br"),e.TgZ(17,"h4",12),e._uU(18," Create case Instruction From"),e.qZA(),e.TgZ(19,"div",13)(20,"div",14)(21,"label"),e._uU(22," Number of client"),e.qZA(),e.TgZ(23,"select",15),e.NdJ("change",function(l){return n.onSelectionOfClients(l)}),e.TgZ(24,"option"),e._uU(25,"1"),e.qZA(),e.TgZ(26,"option"),e._uU(27,"2"),e.qZA(),e.TgZ(28,"option"),e._uU(29,"3"),e.qZA(),e.TgZ(30,"option"),e._uU(31,"4"),e.qZA()(),e.YNc(32,X,2,1,"div",2),e.qZA(),e.TgZ(33,"div",14)(34,"label"),e._uU(35," Brokers"),e.qZA(),e.TgZ(36,"select",16),e.YNc(37,W,2,3,"option",17),e.qZA(),e.YNc(38,te,2,1,"div",2),e.qZA(),e.TgZ(39,"div",14)(40,"label"),e._uU(41," Lawyers"),e.qZA(),e.TgZ(42,"select",18),e.YNc(43,re,2,3,"option",17),e.qZA(),e.YNc(44,ie,2,1,"div",2),e.qZA()(),e.YNc(45,qe,133,22,"div",19),e.qZA(),e.TgZ(46,"div",20),e._UZ(47,"br"),e.TgZ(48,"h4",12),e._uU(49," Create case Final From"),e.qZA(),e.TgZ(50,"div",21)(51,"div",22)(52,"label",23)(53,"span",24),e._uU(54,"Lender"),e.qZA(),e.TgZ(55,"span"),e._UZ(56,"i",25),e.qZA()(),e.TgZ(57,"select",26),e.YNc(58,Ne,2,2,"option",17),e.qZA(),e.YNc(59,xe,2,1,"div",2),e.qZA()(),e.TgZ(60,"div",21)(61,"label",27)(62,"span"),e._uU(63,"Property Address"),e.qZA()(),e.TgZ(64,"div",22)(65,"label",23)(66,"span",24),e._uU(67,"Address Line 1"),e.qZA(),e.TgZ(68,"span"),e._UZ(69,"i",28),e.qZA()(),e._UZ(70,"input",29),e.YNc(71,Ie,2,1,"div",2),e.qZA(),e.TgZ(72,"div",22)(73,"label",23)(74,"span",24),e._uU(75,"Address Line 2"),e.qZA(),e.TgZ(76,"span",30),e._UZ(77,"i",31),e.qZA()(),e._UZ(78,"input",32),e.qZA(),e.TgZ(79,"div",22)(80,"label",23)(81,"span",24),e._uU(82,"Zip Code"),e.qZA(),e.TgZ(83,"span"),e._UZ(84,"i",33),e.qZA()(),e._UZ(85,"input",34),e.YNc(86,we,2,1,"div",2),e.qZA()(),e.TgZ(87,"div",21)(88,"div",22)(89,"label",23)(90,"span",24),e._uU(91,"Landmark"),e.qZA(),e.TgZ(92,"span",35),e._UZ(93,"i",36),e.qZA()(),e._UZ(94,"input",37),e.qZA(),e.TgZ(95,"div",22)(96,"label",38),e._uU(97,"Country Code"),e.qZA(),e.TgZ(98,"select",39),e.YNc(99,Fe,2,2,"option",17),e.qZA()(),e.TgZ(100,"div",22)(101,"label",23)(102,"span",24),e._uU(103,"State"),e.qZA(),e.TgZ(104,"span",35),e._UZ(105,"i",36),e.qZA()(),e._UZ(106,"input",40),e.qZA()(),e.TgZ(107,"div",21)(108,"div",22)(109,"label",23)(110,"span",24),e._uU(111,"Lawfirm"),e.qZA(),e.TgZ(112,"span"),e._UZ(113,"i",41),e.qZA()(),e.TgZ(114,"select",42),e.YNc(115,Se,2,2,"option",17),e.qZA(),e.YNc(116,Qe,2,1,"div",2),e.qZA(),e.TgZ(117,"div",22)(118,"label",23)(119,"span",24),e._uU(120,"Amount"),e.qZA(),e.TgZ(121,"span"),e._UZ(122,"i",43),e.qZA()(),e._UZ(123,"input",44),e.YNc(124,Ye,3,2,"div",2),e.qZA(),e.TgZ(125,"div",22)(126,"label",23)(127,"span",24),e._uU(128,"Address Type"),e.qZA(),e.TgZ(129,"span"),e._UZ(130,"i",36),e.qZA()(),e.TgZ(131,"select",45),e.YNc(132,Oe,2,2,"option",17),e.qZA(),e.YNc(133,Be,2,1,"div",2),e.qZA()(),e.TgZ(134,"div",21)(135,"div",46)(136,"div",47)(137,"button",48),e._uU(138,"Submit"),e.qZA()()()()(),e.TgZ(139,"div",49)(140,"h4",12),e._uU(141," Upload FOA"),e.qZA(),e.TgZ(142,"div",21)(143,"div",50)(144,"div",51)(145,"label"),e._uU(146,"Case Reference "),e.TgZ(147,"span",52),e._uU(148),e.qZA()()(),e.TgZ(149,"div",53)(150,"input",54),e.NdJ("change",function(l){return n.selectFile(l)}),e.qZA(),e.TgZ(151,"button",55),e.NdJ("click",function(){return n.uploadDocument()}),e._uU(152,"Save File"),e.qZA()()()()()(),e.TgZ(153,"ngx-spinner",56)(154,"p",57),e._uU(155,"Loading "),e.qZA()()()()()),2&t&&(e.xp6(2),e.Q6J("ngIf",n.serverError),e.xp6(8),e.Q6J("ngClass",e.VKq(21,Pe,0==n.caseId)),e.xp6(3),e.Q6J("formGroup",n.createCaseForm),e.xp6(19),e.Q6J("ngIf",(n.f.numberOfClients.touched||n.submitted)&&n.f.numberOfClients.errors),e.xp6(5),e.Q6J("ngForOf",n.brokerList),e.xp6(1),e.Q6J("ngIf",(n.f.selectedBroker.touched||n.submitted)&&n.f.selectedBroker.errors),e.xp6(5),e.Q6J("ngForOf",n.LawyerList),e.xp6(1),e.Q6J("ngIf",(n.f.selectedLawyer.touched||n.submitted)&&n.f.selectedLawyer.errors),e.xp6(1),e.Q6J("ngForOf",n.clientFormGroups),e.xp6(13),e.Q6J("ngForOf",n.lenderList),e.xp6(1),e.Q6J("ngIf",(n.f.lender.touched||n.submitted)&&n.f.lender.errors),e.xp6(12),e.Q6J("ngIf",(n.f.propertyAddressLine1.touched||n.submitted)&&n.f.propertyAddressLine1.errors),e.xp6(15),e.Q6J("ngIf",(n.f.propertyZipCode.touched||n.submitted)&&n.f.propertyZipCode.errors),e.xp6(13),e.Q6J("ngForOf",n.countryCodeList),e.xp6(16),e.Q6J("ngForOf",n.lawfirmList),e.xp6(1),e.Q6J("ngIf",(n.f.lawfirm.touched||n.submitted)&&n.f.lawfirm.errors),e.xp6(8),e.Q6J("ngIf",(n.f.amount.touched||n.submitted)&&n.f.amount.errors),e.xp6(8),e.Q6J("ngForOf",n.addressTypeList),e.xp6(1),e.Q6J("ngIf",(n.f.propertyAddressType.touched||n.submitted)&&n.f.propertyAddressType.errors),e.xp6(15),e.Oqu(n.caseRef),e.xp6(3),e.Q6J("disabled",!n.selectedFile))},directives:[Z.O5,Z.mk,a._Y,a.JL,a.sg,a.EJ,a.JJ,a.u,a.YN,a.Kr,Z.sg,N._L,a.Fj,q.Ro],styles:[".card-title[_ngcontent-%COMP%]{margin-bottom:.5rem;background:beige;padding:10px 18px;display:inline-block}@media screen and (min-width:768px){.card-title[_ngcontent-%COMP%]{width:21%}}.nav-tabs[_ngcontent-%COMP%]   li.disabled[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{pointer-events:none}"]}),r})();var je=s(2587);const $e=[{path:"",component:S,children:[{path:"changePassword",component:E.p},{path:"viewCase",component:x.h},{path:"dashboard",component:Q.F},{path:"caseDetails/:actionValue",component:k.n},{path:"createCase",component:Re},{path:"viewCaseDetails/:actionValue/:id",component:x.h},{path:"viewCaseAcknowledge",component:Y.M},{path:"viewCaseChecklist",component:M.G},{path:"viewDocument",component:O.w},{path:"viewCaseDocument/:caseId",component:B.R},{path:"changeUserName",component:R.t},{path:"verifyDocument/:actionValue/:caseId",component:P.e},{path:"searchCase",component:je.r},{path:"uploadFoa",component:D.a},{path:"",redirectTo:"dashboard",pathMatch:"full"}]}];let Ge=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[C.Bz.forChild($e)],C.Bz]}),r})();var ze=s(1793),Ve=s(6469);let He=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[J.T],imports:[[Z.ez,Ge,a.u5,a.UX,q.ef,N.IJ,N.jF,ze.P4.forRoot(),Ve.i]]}),r})()}}]);